var Wi=(X,M)=>()=>(M||X((M={exports:{}}).exports,M),M.exports);var cr=Wi(($i,kt)=>{const Vi=".macintosh-menu{height:auto}.macintosh-menu[open=true]{background:#000;color:#fff}.macintosh-menu[open=false]{background:#fff;color:#000}.macintosh-menu__button{background:transparent;font-family:Chicago,sans-serif;font-size:1rem;padding:0 .6rem;border:none;cursor:pointer;height:100%}.macintosh-menu__button:active,.macintosh-menu__button:hover{background:#000;color:#fff}.macintosh-menu__content[aria-expanded=false]{display:none}.macintosh-menu__content[aria-expanded=true]{padding-left:0;display:block;background:#fff;height:auto;min-width:150px;border:1px solid black;border-right:2px solid black;border-bottom:2px solid black;z-index:1000;position:absolute}.macintosh-menu__content[aria-expanded=true] ul{list-style-type:none;padding-left:0;margin-top:0;margin-bottom:0}.is-clicked{background:#000;color:#fff}",Li=document.createElement("template");Li.innerHTML=`
  <style>${Vi}</style>
  <div id="macintosh-menu-component" class="macintosh-menu">
    <button class="macintosh-menu__button">
        <slot name="menuTitle"></slot>
    </button>
    <div class="macintosh-menu__content" aria-expanded="false">
        <ul>
            <slot name="menuList"></slot>
        </ul>
    </div>
  </div>
`;class Ni extends HTMLElement{content=null;shadow=null;button=null;_isClicked=!1;static get observedAttributes(){return["open"]}constructor(){super();const M=this.attachShadow({mode:"open"});M.appendChild(Li.content.cloneNode(!0)),this.shadow=M,this.content=M?.querySelector(".macintosh-menu__content"),this._isClicked=!1,this.setAttribute("open","false")}connectedCallback(){const M=".macintosh-menu__button";this.button=this.shadow?.querySelector(M),this.content=this.shadow?.querySelector(".macintosh-menu__content"),this.button?.addEventListener("click",this.toggleMenu),document.addEventListener("click",this.handleDocumentClick)}attributeChangedCallback(M,j,z){M==="open"&&z==="false"&&this.content?.setAttribute("aria-expanded","false")}get isClicked(){return this._isClicked}set isClicked(M){this._isClicked=M,M?this.setAttribute("open","true"):this.setAttribute("open","false")}toggleMenu=M=>{if(M.stopPropagation(),this.dispatchEvent(new CustomEvent("menu-clicked",{bubbles:!0,composed:!0,detail:{message:"Button was clicked!",timestamp:Date.now()}})),!this.content)return;const j=this.content?.getAttribute("aria-expanded");this.isClicked=!this.isClicked,j!=="true"&&(this.content?.setAttribute("aria-expanded","true"),this.setAttribute("open","true"))};handleDocumentClick=M=>{const j=this.content?.getAttribute("aria-expanded");(M.composedPath()[0].classList.contains("mainWindow")||M.composedPath()[0].classList.contains("topBar"))&&(j==="true"&&(this.content?.setAttribute("aria-expanded","false"),this.setAttribute("open","false")),this.isClicked=!1)}}customElements.define("macintosh-menu",Ni);const Gi=".macintosh-menu-item{padding-top:5px;font-size:14px;padding-left:1rem;list-style-type:none}.macintosh-menu-item[href]{cursor:pointer}.macintosh-menu-item a,.macintosh-menu-item a:visited{color:#000;text-decoration:none;font-size:16px}.macintosh-menu-item:hover{color:#fff;background:#000}.macintosh-menu-item:last-child{padding-bottom:5px}.is-clicked{animation:.07s 5 alternate slide-in}.is-clicked:hover{background:transparent #000;overflow:hidden}@keyframes slide-in{0%{background:#000;color:#fff}to{background:#fff;color:#000}}",qi=document.createElement("template");qi.innerHTML=`
  <style>${Gi}</style>
  <li id="macintosh-menu-item-component" class="macintosh-menu-item">
    <slot/>
  </li>
`;class Ui extends HTMLElement{item=null;constructor(){super();const M=this.attachShadow({mode:"open"});M.appendChild(qi.content.cloneNode(!0)),this.item=M?.querySelector(".macintosh-menu-item")}handleTimeoutClickEffect(M){const j=this?.getAttribute("href");this?.getAttribute("onclick"),M.preventDefault();const z=this.shadowRoot?.querySelector("li");z?.classList.add("is-clicked"),setTimeout(()=>{debugger;if(j){let Y=window.open();const A=setInterval(()=>{try{Y.location.href=j,clearInterval(A)}catch{}},150)}z?.classList.remove("is-clicked")},700)}connectedCallback(){this.item.addEventListener("click",M=>{this.handleTimeoutClickEffect(M)})}}customElements.define("macintosh-menu-item",Ui);const Ki='.macintosh-icon-button{text-align:center;display:flex;justify-content:center;align-items:center;background:transparent;border:none;outline:none;position:relative}.macintosh-icon-button__inner-text{font-size:10px;font-family:Geneva,sans-serif;background:#fff;border:1px gray dotted;padding-left:1px;padding-right:1px;opacity:1}.macintosh-icon-button:focus .macintosh-icon-button__icon-container[data-type=image]{filter:brightness(.7)}.macintosh-icon-button:focus .macintosh-icon-button__icon-container[data-type=folder]{background-image:linear-gradient(45deg,rgb(0,0,0) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgb(77,77,77) 75%);background-color:#840707;background-size:2px 2px;background-position:0 0,1px 1px;border:1.5px solid black}.macintosh-icon-button:focus .macintosh-icon-button__icon-container[data-type=folder]:after{background-color:#840707}.macintosh-icon-button:focus .macintosh-icon-button__icon-container[data-type=hard-drive]{background-color:#7b7b7b;background-size:2px 2px;background-position:0 0,1px 1px;border:1.5px solid black}.macintosh-icon-button:focus .macintosh-icon-button__inner-text{background:#000;color:#fff}.macintosh-icon-button__icon-container[data-type=image]{width:50px;height:50px;margin:0 auto;padding-bottom:2px}.macintosh-icon-button__icon-container[data-type=image] img{width:100%;height:100%;object-fit:cover}.macintosh-icon-button__icon-container[data-type=folder]{width:50px;height:30px;background-image:linear-gradient(45deg,rgb(223,115,111) 25%,transparent 25%),linear-gradient(45deg,transparent 75%,rgb(223,115,111) 75%);background-color:#ffd2d0;background-size:2px 2px;background-position:0 0,1px 1px;border:1px solid black;border-right:2px solid black;border-radius:3px;margin:0 auto 3px}.macintosh-icon-button__icon-container[data-type=folder] .macintosh-icon-button__detail{border-top:1px solid black;width:2rem;right:.5rem;top:0;position:absolute}.macintosh-icon-button__icon-container[data-type=folder]:before{content:"";position:absolute;display:flex;top:-.45rem;width:1.3125rem;height:.5625rem;background-color:#000;box-shadow:10px 10px 5px #000000bf;clip-path:polygon(10% 0%,90% 0%,100% 100%,0% 100%)}.macintosh-icon-button__icon-container[data-type=folder]:after{content:"";display:flex;position:absolute;width:1.125rem;height:.375rem;inset:-.3125rem .125rem .125rem .52rem;background-color:#e4adab;clip-path:polygon(10% 0%,90% 0%,100% 100%,0% 100%);z-index:1}.macintosh-icon-button__icon-container[data-type=hard-drive]{width:50px;height:10px;background:#fff;margin:0 auto 3px;border:1px black dotted;display:flex;align-items:center;color:#afadad}.macintosh-icon-button__icon-container[data-type=hard-drive]:before{content:"-";padding-top:1px;font-weight:700;padding-left:2px}',Xi=document.createElement("template");Xi.innerHTML=`
  <style>${Ki}</style>
  <button id="macintosh-icon-button-component" data-single-click="false" class="macintosh-icon-button">
    <div class="macintosh-icon-button__button-container">
        <div class="macintosh-icon-button__icon-container" data-single-click="false">
            <div class="macintosh-icon-button__detail"></div>
        </div>
        <div class="macintosh-icon-button__inner-text"><slot/></div>

    </div>
</button>
`;class Ji extends HTMLElement{shadow=null;name;src;constructor(){super();const M=this.attachShadow({mode:"open"});M.appendChild(Xi.content.cloneNode(!0)),this.shadow=M,this.name=this.getAttribute("name"),this.src=this.getAttribute("src")}static get observedAttributes(){return["src"]}handleDoubleClick(M){this.dispatchEvent(new CustomEvent("double-clicked",{bubbles:!0,composed:!0,detail:{message:"Button was double clicked!",timestamp:Date.now()}}))}connectedCallback(){if(this.name=this?.getAttribute("name"),this.shadow?.querySelector(".macintosh-icon-button__icon-container")?.setAttribute("data-type",String(this.name)),this.src){const j=document.createElement("img"),z=this.shadow?.querySelector(".macintosh-icon-button__icon-container");j.src=this.src,z?.appendChild(j),z?.setAttribute("data-type","image")}this.addEventListener("dblclick",this.handleDoubleClick)}}customElements.define("macintosh-icon-button",Ji);const Qi=':global(#mainContent){height:100%;width:100%}div::-webkit-scrollbar{width:20px;height:20px}div::-webkit-resizer{width:2.6rem;height:.4rem;position:absolute;bottom:0;right:-50px;background-image:url(classic/assets/resize-button.png);background-size:20px 20px;background-repeat:no-repeat;background-position:center;border:1px solid black;z-index:999}div::-webkit-scrollbar-thumb{background:#a6a6c9;border-right:none;box-sizing:content-box;width:20px;border-top:1px solid black;border-bottom:2px solid black;border-left:1px solid black;border-right:1px solid black}div::-webkit-scrollbar-button:horizontal:end:increment,div::-webkit-scrollbar-button:horizontal:start:decrement,div::-webkit-scrollbar-button:vertical:end:increment,div::-webkit-scrollbar-button:vertical:start:decrement{display:block}div::-webkit-scrollbar-button:vertical:start{background-image:url(classic/assets/arrow-up-2.png);background-size:20px 20px;background-repeat:no-repeat;height:20px}div::-webkit-scrollbar-button:vertical:start:active{background-image:url(classic/assets/arrow-up-2.png);background-repeat:no-repeat;height:20px;background-size:20px 20px}div::-webkit-scrollbar-button:vertical:end{background-image:url(classic/assets/arrow-down-2.png);height:20px;background-size:20px 20px;width:25px}div::-webkit-scrollbar-button:vertical:end:active{background-image:url(classic/assets/arrow-down-2.png);background-repeat:no-repeat;height:20px;background-size:20px 20px;width:25px}div::-webkit-scrollbar-button:horizontal:start{background-image:url(classic/assets/arrow-left-2.png);height:20px;width:25px}div::-webkit-scrollbar-button:horizontal:start:active{background-image:url(classic/assets/arrow-left-2.png);background-repeat:no-repeat;height:20px;width:25px}div::-webkit-scrollbar-button:horizontal:end{background-image:url(classic/assets/arrow-right-2.png);height:20px;width:25px}div::-webkit-scrollbar-track{background:radial-gradient(circle,#b0b0b0 20%,transparent 20%),radial-gradient(circle,#b0b0b0 20%,transparent 20%);background-size:6px 6px;background-position:0 0,3px 9px;background-color:#d0d0d0}:host([aria-hidden=true]){display:none}:host([data-active=true]) .macintosh-window__window{z-index:2000}:host([data-active=false]){z-index:1;user-select:none}:host([data-active=false]) .macintosh-window__body{resize:none}:host([data-active=false]) .macintosh-window__body::-webkit-scrollbar-track{background:#fff}:host([data-active=false]) .macintosh-window__body::-webkit-scrollbar-button,:host([data-active=false]) .macintosh-window__body::-webkit-scrollbar{background:#fff}:host([data-active=false]) .macintosh-window__background{background:#fff}:host([data-active=false]) .macintosh-window__header,:host([data-active=false]) .macintosh-window__middle-header{background:#fff;color:gray}:host([data-active=false]) .macintosh-window__decor-line{opacity:0}:host{width:200px;height:200px;display:block}:host .macintosh-window__window{z-index:999;position:relative;font-family:Chicago,sans-serif;width:300px;height:400px;min-height:220px;min-width:400px;max-width:400px;max-height:350px;border-left:none;border-radius:3px}:host .macintosh-window__window[aria-hidden=true]{display:none}:host .macintosh-window__top-button{height:19px;width:15px;position:absolute;margin-left:6px;border:none;border-top:2px solid rgb(90,90,136);border-left:2px solid rgb(90,90,136);border-bottom:5px solid rgb(212,212,249);border-right:2px solid rgb(212,212,249);background:#b3b3e0;padding:0;overflow:none}:host .macintosh-window__top-button:before{content:" ";width:9px;height:8px;background:#9c9c9c;display:block;border-bottom:2px solid rgb(75,75,122);border-right:2px solid rgb(75,75,122);border-top:1px solid rgb(197,197,240);border-left:1px solid rgb(197,197,240)}:host .macintosh-window__top-button--right{margin-right:5px;right:0}:host .macintosh-window__top-button--right:after{content:" ";width:4px;height:4px;background:#9c9c9c;display:block;border-bottom:2px solid rgb(75,75,122);border-right:2px solid rgb(75,75,122);border-top:1px solid rgb(197,197,240);border-left:1px solid rgb(197,197,240);position:absolute;top:0}:host .macintosh-window__header{display:flex;justify-content:center;align-items:center;width:100%;position:sticky;top:0;background:#fff;border-right:4px solid black;border-top:2px solid black;border-left:1px solid black;border-bottom:1px solid rgb(25,25,27)}:host .macintosh-window__border{display:block}:host .macintosh-window__border--first{border-bottom:2px solid rgb(137,137,173)}:host .macintosh-window__border--second{border-bottom:1px solid black}:host .macintosh-window__middle-header{padding-left:.3rem;padding-right:.3rem;background-color:#eee;font-size:16px;height:15px;font-family:Chicago,sans-serif;padding-bottom:.2rem;width:100%;text-align:center;max-width:120px}:host .macintosh-window__background{position:absolute;height:15px;width:100%;position:relative;background-color:#ddd;overflow:hidden;border-top:1px solid rgb(221,222,252)}:host .macintosh-window__decor-line{align-items:center;background:linear-gradient(rgb(150,150,179) 50%,transparent 0);background-clip:content-box;background-size:6.6666666667% 13.3333333333%;display:flex;flex:none;height:15px;margin:.1rem 0;border-top:1px solid rgb(149,151,209);border-bottom:1px solid rgb(149,151,209)}:host .macintosh-window__main-content{height:100%;min-height:200px}:host .macintosh-window__body{height:100%;overflow:scroll;resize:both;background:#fff;border-right:3.5px solid black;border-bottom:3.5px solid black;border-left:1px solid black;border-top:1px solid black;max-width:500px;max-height:400px;min-width:300px;min-height:200px}:host .macintosh-window__footer{flex-shrink:0;flex-grow:0;display:flex;bottom:0;height:20px;width:100%;z-index:10;background-color:#eee;justify-content:end;border-left:1px solid black;border-top:2px solid black;border-bottom:3px solid black;margin-right:2rem;border-right:3px solid black}';function Zi(X){return X&&X.__esModule&&Object.prototype.hasOwnProperty.call(X,"default")?X.default:X}var wn={exports:{}},er=wn.exports,ji;function tr(){return ji||(ji=1,function(X,M){(function(j,z){X.exports=z()})(er,function(){function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(i){le(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Y(e){return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Nt(i.key),i)}}function R(e,t,n){return t&&Ie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(e,t,n){return(t=Nt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ue(e,t)}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},J(e)}function ue(e,t){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ue(e,t)}function de(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=J(e);if(t){var a=J(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return function(s,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return de(s)}(this,n)}}function tt(){return tt=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=J(s))!==null;);return s}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},tt.apply(this,arguments)}function Nt(e){var t=function(n,i){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,i);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e,"string");return typeof t=="symbol"?t:t+""}var xe=function(e){return!(!e||!e.Window)&&e instanceof e.Window},Gt=void 0,N=void 0;function nt(e){Gt=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),N=e}function re(e){return xe(e)?e:(e.ownerDocument||e).defaultView||N.window}typeof window<"u"&&window&&nt(window);var b=function(e){return!!e&&Y(e)==="object"},Tt=function(e){return typeof e=="function"},x={window:function(e){return e===N||xe(e)},docFrag:function(e){return b(e)&&e.nodeType===11},object:b,func:Tt,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||Y(e)!=="object")return!1;var t=re(e)||N;return/object|function/.test(typeof Element>"u"?"undefined":Y(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return b(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return b(e)&&e.length!==void 0&&Tt(e.splice)}};function Ye(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function Ut(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var i=n.prepared.axis;if(i==="x"||i==="y"){var a=i==="x"?"y":"x";t.page[a]=n.coords.start.page[a],t.client[a]=n.coords.start.client[a],t.delta[a]=0}}}var G={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.draggable=G.draggable,t.map.drag=G,t.methodDict.drag="draggable",i.actions.drag=G.defaults},listeners:{"interactions:before-action-move":Ye,"interactions:action-resume":Ye,"interactions:action-move":Ut,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.buttons,a=n.options.drag;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||i&n.options.drag.mouseButtons))return e.action={name:"drag",axis:a.lockAxis==="start"?a.startAxis:a.lockAxis},!1}},draggable:function(e){return x.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):x.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:Ye,move:Ut,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(e){return e.search("drag")===0}},ze=G,F={init:function(e){var t=e;F.document=t.document,F.DocumentFragment=t.DocumentFragment||$,F.SVGElement=t.SVGElement||$,F.SVGSVGElement=t.SVGSVGElement||$,F.SVGElementInstance=t.SVGElementInstance||$,F.Element=t.Element||$,F.HTMLElement=t.HTMLElement||F.Element,F.Event=t.Event,F.Touch=t.Touch||$,F.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function $(){}var q=F,H={init:function(e){var t=q.Element,n=e.navigator||{};H.supportsTouch="ontouchstart"in e||x.func(e.DocumentTouch)&&q.document instanceof e.DocumentTouch,H.supportsPointerEvent=n.pointerEnabled!==!1&&!!q.PointerEvent,H.isIOS=/iP(hone|od|ad)/.test(n.platform),H.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),H.isIe9=/MSIE 9/.test(n.userAgent),H.isOperaMobile=n.appName==="Opera"&&H.supportsTouch&&/Presto/.test(n.userAgent),H.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",H.pEventTypes=H.supportsPointerEvent?q.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,H.wheelEvent=q.document&&"onmousewheel"in q.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},ee=H;function U(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function fe(e,t){for(;x.element(e);){if(he(e,t))return e;e=ne(e)}return null}function ne(e){var t=e.parentNode;if(x.docFrag(t)){for(;(t=t.host)&&x.docFrag(t););return t}return t}function he(e,t){return N!==Gt&&(t=t.replace(/\/deep\//g," ")),e[ee.prefixedMatchesSelector](t)}var it=function(e){return e.parentNode||e.host};function Kt(e,t){for(var n,i=[],a=e;(n=it(a))&&a!==t&&n!==a.ownerDocument;)i.unshift(a),a=n;return i}function rt(e,t,n){for(;x.element(e);){if(he(e,t))return!0;if((e=ne(e))===n)return he(e,t)}return!1}function St(e){return e.correspondingUseElement||e}function Pt(e){var t=e instanceof q.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Ot(e){var t,n=Pt(e);if(!ee.isIOS7&&n){var i={x:(t=(t=re(e))||N).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n}function O(e){for(var t=[];e;)t.push(e),e=ne(e);return t}function Jt(e){return!!x.string(e)&&(q.document.querySelector(e),!0)}function P(e,t){for(var n in t)e[n]=t[n];return e}function ot(e,t,n){return e==="parent"?ne(n):e==="self"?t.getRect(n):fe(n,e)}function Ae(e,t,n,i){var a=e;return x.string(a)?a=ot(a,t,n):x.func(a)&&(a=a.apply(void 0,i)),x.element(a)&&(a=Ot(a)),a}function Ce(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}}function Re(e){return!e||"x"in e&&"y"in e||((e=P({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e}function oe(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function Be(e,t,n){var i=n&&e.options[n];return Ce(Ae(i&&i.origin||e.options.origin,e,t,[e&&t]))||{x:0,y:0}}function ie(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(u){return!0},i=arguments.length>3?arguments[3]:void 0;if(i=i||{},x.string(e)&&e.search(" ")!==-1&&(e=_n(e)),x.array(e))return e.forEach(function(u){return ie(u,t,n,i)}),i;if(x.object(e)&&(t=e,e=""),x.func(t)&&n(e))i[e]=i[e]||[],i[e].push(t);else if(x.array(t))for(var a=0,s=t;a<s.length;a++){var c=s[a];ie(e,c,n,i)}else if(x.object(t))for(var l in t)ie(_n(l).map(function(u){return"".concat(e).concat(u)}),t[l],n,i);return i}function _n(e){return e.trim().split(/ +/)}var we=function(e,t){return Math.sqrt(e*e+t*t)},Mt=["webkit","moz"];function at(e,t){e.__set||(e.__set={});var n=function(a){if(Mt.some(function(s){return a.indexOf(s)===0}))return 1;typeof e[a]!="function"&&a!=="__set"&&Object.defineProperty(e,a,{get:function(){return a in e.__set?e.__set[a]:e.__set[a]=t[a]},set:function(s){e.__set[a]=s},configurable:!0})};for(var i in t)n(i);return e}function st(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function ct(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0}function Qt(e){return e instanceof q.Event||e instanceof q.Touch}function _e(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function En(e,t){return t=t||{x:0,y:0},ee.isOperaMobile&&Qt(e)?(_e("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):_e("page",e,t),t}function je(e){return x.number(e.pointerId)?e.pointerId:e.identifier}function kn(e,t,n){var i=t.length>1?Dt(t):t[0];En(i,e.page),function(a,s){s=s||{},ee.isOperaMobile&&Qt(a)?_e("screen",a,s):_e("client",a,s)}(i,e.client),e.timeStamp=n}function lt(e){var t=[];return x.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function Dt(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var i=e[n];for(var a in t)t[a]+=i[a]}for(var s in t)t[s]/=e.length;return t}function ut(e){if(!e.length)return null;var t=lt(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),a=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:a,bottom:s,width:a-n,height:s-i}}function It(e,t){var n=t+"X",i=t+"Y",a=lt(e),s=a[0][n]-a[1][n],c=a[0][i]-a[1][i];return we(s,c)}function zt(e,t){var n=t+"X",i=t+"Y",a=lt(e),s=a[1][n]-a[0][n],c=a[1][i]-a[0][i];return 180*Math.atan2(c,s)/Math.PI}function dt(e){return x.string(e.pointerType)?e.pointerType:x.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof q.Touch?"touch":"mouse"}function Zt(e){var t=x.func(e.composedPath)?e.composedPath():e.path;return[St(t?t[0]:e.target),St(e.currentTarget)]}var pt=function(){function e(t){A(this,e),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return R(e,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}();Object.defineProperty(pt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var He=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}return e},$e=function(e){return He([],e)},ae=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1},We=function(e,t){return e[ae(e,t)]},Ee=function(e){te(n,e);var t=pe(n);function n(i,a,s){var c;A(this,n),(c=t.call(this,a._interaction)).dropzone=void 0,c.dragEvent=void 0,c.relatedTarget=void 0,c.draggable=void 0,c.propagationStopped=!1,c.immediatePropagationStopped=!1;var l=s==="dragleave"?i.prev:i.cur,u=l.element,p=l.dropzone;return c.type=s,c.target=u,c.currentTarget=u,c.dropzone=p,c.dragEvent=a,c.relatedTarget=a.target,c.draggable=a.interactable,c.timeStamp=a.timeStamp,c}return R(n,[{key:"reject",value:function(){var i=this,a=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&a.cur.dropzone===this.dropzone&&a.cur.element===this.target)if(a.prev.dropzone=this.dropzone,a.prev.element=this.target,a.rejected=!0,a.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var s=a.activeDrops,c=ae(s,function(u){var p=u.dropzone,d=u.element;return p===i.dropzone&&d===i.target});a.activeDrops.splice(c,1);var l=new n(a,this.dragEvent,"dropdeactivate");l.dropzone=this.dropzone,l.target=this.target,this.dropzone.fire(l)}else this.dropzone.fire(new n(a,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(pt);function en(e,t){for(var n=0,i=e.slice();n<i.length;n++){var a=i[n],s=a.dropzone,c=a.element;t.dropzone=s,t.target=c,s.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function ft(e,t){for(var n=function(s,c){for(var l=[],u=0,p=s.interactables.list;u<p.length;u++){var d=p[u];if(d.options.drop.enabled){var f=d.options.drop.accept;if(!(x.element(f)&&f!==c||x.string(f)&&!he(c,f)||x.func(f)&&!f({dropzone:d,draggableElement:c})))for(var h=0,v=d.getAllElements();h<v.length;h++){var g=v[h];g!==c&&l.push({dropzone:d,element:g,rect:d.getRect(g)})}}}return l}(e,t),i=0;i<n.length;i++){var a=n[i];a.rect=a.dropzone.getRect(a.element)}return n}function At(e,t,n){for(var i=e.dropState,a=e.interactable,s=e.element,c=[],l=0,u=i.activeDrops;l<u.length;l++){var p=u[l],d=p.dropzone,f=p.element,h=p.rect,v=d.dropCheck(t,n,a,s,f,h);c.push(v?f:null)}var g=function(m){for(var y,w,_,E=[],k=0;k<m.length;k++){var S=m[k],T=m[y];if(S&&k!==y)if(T){var L=it(S),C=it(T);if(L!==S.ownerDocument)if(C!==S.ownerDocument)if(L!==C){E=E.length?E:Kt(T);var B=void 0;if(T instanceof q.HTMLElement&&S instanceof q.SVGElement&&!(S instanceof q.SVGSVGElement)){if(S===C)continue;B=S.ownerSVGElement}else B=S;for(var Q=Kt(B,T.ownerDocument),Z=0;Q[Z]&&Q[Z]===E[Z];)Z++;var ti=[Q[Z-1],Q[Z],E[Z]];if(ti[0])for(var xn=ti[0].lastChild;xn;){if(xn===ti[1]){y=k,E=Q;break}if(xn===ti[2])break;xn=xn.previousSibling}}else _=T,(parseInt(re(w=S).getComputedStyle(w).zIndex,10)||0)>=(parseInt(re(_).getComputedStyle(_).zIndex,10)||0)&&(y=k);else y=k}else y=k}return y}(c);return i.activeDrops[g]||null}function Ct(e,t,n){var i=e.dropState,a={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(a.activate=new Ee(i,n,"dropactivate"),a.activate.target=null,a.activate.dropzone=null),n.type==="dragend"&&(a.deactivate=new Ee(i,n,"dropdeactivate"),a.deactivate.target=null,a.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(a.leave=new Ee(i,n,"dragleave"),n.dragLeave=a.leave.target=i.prev.element,n.prevDropzone=a.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(a.enter=new Ee(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(a.drop=new Ee(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(a.move=new Ee(i,n,"dropmove"),n.dropzone=i.cur.dropzone)),a}function Rt(e,t){var n=e.dropState,i=n.activeDrops,a=n.cur,s=n.prev;t.leave&&s.dropzone.fire(t.leave),t.enter&&a.dropzone.fire(t.enter),t.move&&a.dropzone.fire(t.move),t.drop&&a.dropzone.fire(t.drop),t.deactivate&&en(i,t.deactivate),n.prev.dropzone=a.dropzone,n.prev.element=a.element}function Tn(e,t){var n=e.interaction,i=e.iEvent,a=e.event;if(i.type==="dragmove"||i.type==="dragend"){var s=n.dropState;t.dynamicDrop&&(s.activeDrops=ft(t,n.element));var c=i,l=At(n,c,a);s.rejected=s.rejected&&!!l&&l.dropzone===s.cur.dropzone&&l.element===s.cur.element,s.cur.dropzone=l&&l.dropzone,s.cur.element=l&&l.element,s.events=Ct(n,0,c)}}var jt={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,i=e.Interactable,a=e.defaults;e.usePlugin(ze),i.prototype.dropzone=function(s){return function(c,l){if(x.object(l)){if(c.options.drop.enabled=l.enabled!==!1,l.listeners){var u=ie(l.listeners),p=Object.keys(u).reduce(function(f,h){return f[/^(enter|leave)/.test(h)?"drag".concat(h):/^(activate|deactivate|move)/.test(h)?"drop".concat(h):h]=u[h],f},{}),d=c.options.drop.listeners;d&&c.off(d),c.on(p),c.options.drop.listeners=p}return x.func(l.ondrop)&&c.on("drop",l.ondrop),x.func(l.ondropactivate)&&c.on("dropactivate",l.ondropactivate),x.func(l.ondropdeactivate)&&c.on("dropdeactivate",l.ondropdeactivate),x.func(l.ondragenter)&&c.on("dragenter",l.ondragenter),x.func(l.ondragleave)&&c.on("dragleave",l.ondragleave),x.func(l.ondropmove)&&c.on("dropmove",l.ondropmove),/^(pointer|center)$/.test(l.overlap)?c.options.drop.overlap=l.overlap:x.number(l.overlap)&&(c.options.drop.overlap=Math.max(Math.min(1,l.overlap),0)),"accept"in l&&(c.options.drop.accept=l.accept),"checker"in l&&(c.options.drop.checker=l.checker),c}return x.bool(l)?(c.options.drop.enabled=l,c):c.options.drop}(this,s)},i.prototype.dropCheck=function(s,c,l,u,p,d){return function(f,h,v,g,m,y,w){var _=!1;if(!(w=w||f.getRect(y)))return!!f.options.drop.checker&&f.options.drop.checker(h,v,_,f,y,g,m);var E=f.options.drop.overlap;if(E==="pointer"){var k=Be(g,m,"drag"),S=En(h);S.x+=k.x,S.y+=k.y;var T=S.x>w.left&&S.x<w.right,L=S.y>w.top&&S.y<w.bottom;_=T&&L}var C=g.getRect(m);if(C&&E==="center"){var B=C.left+C.width/2,Q=C.top+C.height/2;_=B>=w.left&&B<=w.right&&Q>=w.top&&Q<=w.bottom}return C&&x.number(E)&&(_=Math.max(0,Math.min(w.right,C.right)-Math.max(w.left,C.left))*Math.max(0,Math.min(w.bottom,C.bottom)-Math.max(w.top,C.top))/(C.width*C.height)>=E),f.options.drop.checker&&(_=f.options.drop.checker(h,v,_,f,y,g,m)),_}(this,s,c,l,u,p,d)},n.dynamicDrop=function(s){return x.bool(s)?(e.dynamicDrop=s,n):e.dynamicDrop},P(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,a.actions.drop=jt.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,i=(e.event,e.iEvent);if(n.prepared.name==="drag"){var a=n.dropState;a.activeDrops=[],a.events={},a.activeDrops=ft(t,n.element),a.events=Ct(n,0,i),a.events.activate&&(en(a.activeDrops,a.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":Tn,"interactions:after-action-move":function(e,t){var n=e.interaction,i=e.iEvent;if(n.prepared.name==="drag"){var a=n.dropState;Rt(n,a.events),t.fire("actions/drop:move",{interaction:n,dragEvent:i}),a.events={}}},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,i=e.iEvent;Tn(e,t),Rt(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:ft,getDrop:At,getDropEvents:Ct,fireDropEvents:Rt,filterEventType:function(e){return e.search("drag")===0||e.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},tn=jt;function nn(e){var t=e.interaction,n=e.iEvent,i=e.phase;if(t.prepared.name==="gesture"){var a=t.pointers.map(function(p){return p.pointer}),s=i==="start",c=i==="end",l=t.interactable.options.deltaSource;if(n.touches=[a[0],a[1]],s)n.distance=It(a,l),n.box=ut(a),n.scale=1,n.ds=0,n.angle=zt(a,l),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(c||t.pointers.length<2){var u=t.prevEvent;n.distance=u.distance,n.box=u.box,n.scale=u.scale,n.ds=0,n.angle=u.angle,n.da=0}else n.distance=It(a,l),n.box=ut(a),n.scale=n.distance/t.gesture.startDistance,n.angle=zt(a,l),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,x.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}var rn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.gesturable=function(a){return x.object(a)?(this.options.gesture.enabled=a.enabled!==!1,this.setPerAction("gesture",a),this.setOnEvents("gesture",a),this):x.bool(a)?(this.options.gesture.enabled=a,this):this.options.gesture},t.map.gesture=rn,t.methodDict.gesture="gesturable",i.actions.gesture=rn.defaults},listeners:{"interactions:action-start":nn,"interactions:action-move":nn,"interactions:action-end":nn,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(e){return e.search("gesture")===0}},Sn=rn;function ve(e,t,n,i,a,s,c){if(!t)return!1;if(t===!0){var l=x.number(s.width)?s.width:s.right-s.left,u=x.number(s.height)?s.height:s.bottom-s.top;if(c=Math.min(c,Math.abs((e==="left"||e==="right"?l:u)/2)),l<0&&(e==="left"?e="right":e==="right"&&(e="left")),u<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var p=l>=0?s.left:s.right;return n.x<p+c}if(e==="top"){var d=u>=0?s.top:s.bottom;return n.y<d+c}if(e==="right")return n.x>(l>=0?s.right:s.left)-c;if(e==="bottom")return n.y>(u>=0?s.bottom:s.top)-c}return!!x.element(i)&&(x.element(t)?t===i:rt(i,t,a))}function ke(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var i=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,n.resizeAxes==="x"?i.delta.y=0:n.resizeAxes==="y"&&(i.delta.x=0))}}var W,Fe,ge={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,i=e.Interactable,a=e.defaults;ge.cursors=function(s){return s.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),ge.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(s){return function(c,l,u){return x.object(l)?(c.options.resize.enabled=l.enabled!==!1,c.setPerAction("resize",l),c.setOnEvents("resize",l),x.string(l.axis)&&/^x$|^y$|^xy$/.test(l.axis)?c.options.resize.axis=l.axis:l.axis===null&&(c.options.resize.axis=u.defaults.actions.resize.axis),x.bool(l.preserveAspectRatio)?c.options.resize.preserveAspectRatio=l.preserveAspectRatio:x.bool(l.square)&&(c.options.resize.square=l.square),c):x.bool(l)?(c.options.resize.enabled=l,c):c.options.resize}(this,s,e)},t.map.resize=ge,t.methodDict.resize="resizable",a.actions.resize=ge.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var a=n,s=i.rect;i._rects={start:P({},s),corrected:P({},s),previous:P({},s),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},a.edges=i.prepared.edges,a.rect=i._rects.corrected,a.deltaRect=i._rects.delta}})(e),ke(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var a=n,s=i.interactable.options.resize.invert,c=s==="reposition"||s==="negate",l=i.rect,u=i._rects,p=u.start,d=u.corrected,f=u.delta,h=u.previous;if(P(h,d),c){if(P(d,l),s==="reposition"){if(d.top>d.bottom){var v=d.top;d.top=d.bottom,d.bottom=v}if(d.left>d.right){var g=d.left;d.left=d.right,d.right=g}}}else d.top=Math.min(l.top,p.bottom),d.bottom=Math.max(l.bottom,p.top),d.left=Math.min(l.left,p.right),d.right=Math.max(l.right,p.left);for(var m in d.width=d.right-d.left,d.height=d.bottom-d.top,d)f[m]=d[m]-h[m];a.edges=i.prepared.edges,a.rect=d,a.deltaRect=f}})(e),ke(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.element,a=e.rect,s=e.buttons;if(a){var c=P({},t.coords.cur.page),l=n.options.resize;if(l&&l.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||s&l.mouseButtons)){if(x.object(l.edges)){var u={left:!1,right:!1,top:!1,bottom:!1};for(var p in u)u[p]=ve(p,l.edges[p],c,t._latestPointer.eventTarget,i,a,l.margin||ge.defaultMargin);u.left=u.left&&!u.right,u.top=u.top&&!u.bottom,(u.left||u.right||u.top||u.bottom)&&(e.action={name:"resize",edges:u})}else{var d=l.axis!=="y"&&c.x>a.right-ge.defaultMargin,f=l.axis!=="x"&&c.y>a.bottom-ge.defaultMargin;(d||f)&&(e.action={name:"resize",axes:(d?"x":"")+(f?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,i=e.name,a=ge.cursors,s=null;if(n)s=a[i+n];else if(t){for(var c="",l=0,u=["top","bottom","left","right"];l<u.length;l++){var p=u[l];t[p]&&(c+=p)}s=a[c]}return s},filterEventType:function(e){return e.search("resize")===0},defaultMargin:null},Pn=ge,Te={id:"actions",install:function(e){e.usePlugin(Sn),e.usePlugin(Pn),e.usePlugin(ze),e.usePlugin(tn)}},D=0,me={request:function(e){return W(e)},cancel:function(e){return Fe(e)},init:function(e){if(W=e.requestAnimationFrame,Fe=e.cancelAnimationFrame,!W)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var i=t[n];W=e["".concat(i,"RequestAnimationFrame")],Fe=e["".concat(i,"CancelAnimationFrame")]||e["".concat(i,"CancelRequestAnimationFrame")]}W=W&&W.bind(e),Fe=Fe&&Fe.bind(e),W||(W=function(a){var s=Date.now(),c=Math.max(0,16-(s-D)),l=e.setTimeout(function(){a(s+c)},c);return D=s+c,l},Fe=function(a){return clearTimeout(a)})}},I={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){I.isScrolling=!0,me.cancel(I.i),e.autoScroll=I,I.interaction=e,I.prevTime=I.now(),I.i=me.request(I.scroll)},stop:function(){I.isScrolling=!1,I.interaction&&(I.interaction.autoScroll=null),me.cancel(I.i)},scroll:function(){var e=I.interaction,t=e.interactable,n=e.element,i=e.prepared.name,a=t.options[i].autoScroll,s=On(a.container,t,n),c=I.now(),l=(c-I.prevTime)/1e3,u=a.speed*l;if(u>=1){var p={x:I.x*u,y:I.y*u};if(p.x||p.y){var d=Mn(s);x.window(s)?s.scrollBy(p.x,p.y):s&&(s.scrollLeft+=p.x,s.scrollTop+=p.y);var f=Mn(s),h={x:f.x-d.x,y:f.y-d.y};(h.x||h.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:h,interaction:e,container:s})}I.prevTime=c}I.isScrolling&&(me.cancel(I.i),I.i=me.request(I.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&I.check(t.interactable,t.prepared.name))if(t.simulation)I.x=I.y=0;else{var i,a,s,c,l=t.interactable,u=t.element,p=t.prepared.name,d=l.options[p].autoScroll,f=On(d.container,l,u);if(x.window(f))c=n.clientX<I.margin,i=n.clientY<I.margin,a=n.clientX>f.innerWidth-I.margin,s=n.clientY>f.innerHeight-I.margin;else{var h=Pt(f);c=n.clientX<h.left+I.margin,i=n.clientY<h.top+I.margin,a=n.clientX>h.right-I.margin,s=n.clientY>h.bottom-I.margin}I.x=a?1:c?-1:0,I.y=s?1:i?-1:0,I.isScrolling||(I.margin=d.margin,I.speed=d.speed,I.start(t))}}};function On(e,t,n){return(x.string(e)?ot(e,t,n):e)||re(n)}function Mn(e){return x.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var ht={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=I,I.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=I.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,I.stop(),I.interaction&&(I.interaction=null)},"interactions:stop":I.stop,"interactions:action-move":function(e){return I.onInteractionMove(e)}}},on=ht;function vt(e,t){var n=!1;return function(){return n||(N.console.warn(t),n=!0),e.apply(this,arguments)}}function an(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e}function ni(e){return x.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Dn(e){return x.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ii={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,i,a,s){var c=function(l,u,p,d,f){var h=l.getRect(d),v=u.buttons||{0:1,1:4,3:8,4:16}[u.button],g={action:null,interactable:l,interaction:p,element:d,rect:h,buttons:v};return f.fire("auto-start:check",g),g.action}(this,i,a,s,e);return this.options.actionChecker?this.options.actionChecker(n,i,c,this,s,a):c},t.prototype.ignoreFrom=vt(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=vt(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Dn,t.prototype.styleCursor=ni}};function sn(e,t,n,i,a){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&Ve(t,n,e,a)?e:null}function In(e,t,n,i,a,s,c){for(var l=0,u=i.length;l<u;l++){var p=i[l],d=a[l],f=p.getAction(t,n,e,d);if(f){var h=sn(f,p,d,s,c);if(h)return{action:h,interactable:p,element:d}}}return{action:null,interactable:null,element:null}}function gt(e,t,n,i,a){var s=[],c=[],l=i;function u(d){s.push(d),c.push(l)}for(;x.element(l);){s=[],c=[],a.interactables.forEachMatch(l,u);var p=In(e,t,n,s,c,i,a);if(p.action&&!p.interactable.options[p.action.name].manualStart)return p;l=ne(l)}return{action:null,interactable:null,element:null}}function cn(e,t,n){var i=t.action,a=t.interactable,s=t.element;i=i||{name:null},e.interactable=a,e.element=s,an(e.prepared,i),e.rect=a&&i.name?a.getRect(s):null,Ft(e,n),n.fire("autoStart:prepared",{interaction:e})}function Ve(e,t,n,i){var a=e.options,s=a[n.name].max,c=a[n.name].maxPerElement,l=i.autoStart.maxInteractions,u=0,p=0,d=0;if(!(s&&c&&l))return!1;for(var f=0,h=i.interactions.list;f<h.length;f++){var v=h[f],g=v.prepared.name;if(v.interacting()&&(++u>=l||v.interactable===e&&((p+=g===n.name?1:0)>=s||v.element===t&&(d++,g===n.name&&d>=c))))return!1}return l>0}function ln(e,t){return x.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function un(e,t,n){var i=n.autoStart.cursorElement;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Ft(e,t){var n=e.interactable,i=e.element,a=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var s="";if(a.name){var c=n.options[a.name].cursorChecker;s=x.func(c)?c(a,n,i,e._interacting):t.actions.map[a.name].getCursor(a)}un(e.element,s||"",t)}else t.autoStart.cursorElement&&un(t.autoStart.cursorElement,"",t)}var ri={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(ii),n.base.actionChecker=null,n.base.styleCursor=!0,P(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(i){return ln(i,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ve,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget;n.interacting()||cn(n,gt(n,i,a,s,t),t)},"interactions:move":function(e,t){(function(n,i){var a=n.interaction,s=n.pointer,c=n.event,l=n.eventTarget;a.pointerType!=="mouse"||a.pointerIsDown||a.interacting()||cn(a,gt(a,s,c,l,i),i)})(e,t),function(n,i){var a=n.interaction;if(a.pointerIsDown&&!a.interacting()&&a.pointerWasMoved&&a.prepared.name){i.fire("autoStart:before-start",n);var s=a.interactable,c=a.prepared.name;c&&s&&(s.options[c].manualStart||!Ve(s,a.element,a.prepared,i)?a.stop():(a.start(a.prepared,s,a.element),Ft(a,i)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,i=n.interactable;i&&i.options.styleCursor&&un(n.element,"",t)}},maxInteractions:ln,withinInteractionLimit:Ve,validateAction:sn},mt=ri,oi={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,i=e.eventTarget,a=e.dx,s=e.dy;if(n.prepared.name==="drag"){var c=Math.abs(a),l=Math.abs(s),u=n.interactable.options.drag,p=u.startAxis,d=c>l?"x":c<l?"y":"xy";if(n.prepared.axis=u.lockAxis==="start"?d[0]:u.lockAxis,d!=="xy"&&p!=="xy"&&p!==d){n.prepared.name=null;for(var f=i,h=function(g){if(g!==n.interactable){var m=n.interactable.options.drag;if(!m.manualStart&&g.testIgnoreAllow(m,f,i)){var y=g.getAction(n.downPointer,n.downEvent,n,f);if(y&&y.name==="drag"&&function(w,_){if(!_)return!1;var E=_.options.drag.startAxis;return w==="xy"||E==="xy"||E===w}(d,g)&&mt.validateAction(y,g,f,i,t))return g}}};x.element(f);){var v=t.interactables.forEachMatch(f,h);if(v){n.prepared.name="drag",n.interactable=v,n.element=f;break}f=ne(f)}}}}}};function dn(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}var ai={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(mt),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=dn(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;dn(t)>0&&(t.prepared.name=null)}},getHoldDuration:dn},si=ai,ci={id:"auto-start",install:function(e){e.usePlugin(mt),e.usePlugin(si),e.usePlugin(oi)}},zn=function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):x.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault};function Lt(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}var Le={id:"core/interactablePreventDefault",install:function(e){var t=e.Interactable;t.prototype.preventDefault=zn,t.prototype.checkAndPreventDefault=function(n){return function(i,a,s){var c=i.options.preventDefault;if(c!=="never")if(c!=="always"){if(a.events.supportsPassive&&/^touch(start|move)$/.test(s.type)){var l=re(s.target).document,u=a.getDocOptions(l);if(!u||!u.events||u.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(s.type)||x.element(s.target)&&he(s.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||s.preventDefault()}else s.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var i=0,a=e.interactions.list;i<a.length;i++){var s=a[i];if(s.element&&(s.element===n.target||U(s.element,n.target)))return void s.interactable.checkAndPreventDefault(n)}}})},listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Lt,e},{})};function Ne(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1}function ye(e){var t={};for(var n in e){var i=e[n];x.plainObject(i)?t[n]=ye(i):x.array(i)?t[n]=$e(i):t[n]=i}return t}var se=function(){function e(t){A(this,e),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=Se(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return R(e,[{key:"start",value:function(t,n){var i,a,s=t.phase,c=this.interaction,l=function(p){var d=p.interactable.options[p.prepared.name],f=d.modifiers;return f&&f.length?f:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(h){var v=d[h];return v&&v.enabled&&{options:v,methods:v._methods}}).filter(function(h){return!!h})}(c);this.prepareStates(l),this.startEdges=P({},c.edges),this.edges=P({},this.startEdges),this.startOffset=(i=c.rect,a=n,i?{left:a.x-i.left,top:a.y-i.top,right:i.right-a.x,bottom:i.bottom-a.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var u=this.fillArg({phase:s,pageCoords:n,preEnd:!1});return this.result=Se(),this.startAll(u),this.result=this.setAll(u)}},{key:"fillArg",value:function(t){var n=this.interaction;return t.interaction=n,t.interactable=n.interactable,t.element=n.element,t.rect||(t.rect=n.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var n=0,i=this.states;n<i.length;n++){var a=i[n];a.methods.start&&(t.state=a,a.methods.start(t))}}},{key:"setAll",value:function(t){var n=t.phase,i=t.preEnd,a=t.skipModifiers,s=t.rect,c=t.edges;t.coords=P({},t.pageCoords),t.rect=P({},s),t.edges=P({},c);for(var l=a?this.states.slice(a):this.states,u=Se(t.coords,t.rect),p=0;p<l.length;p++){var d,f=l[p],h=f.options,v=P({},t.coords),g=null;(d=f.methods)!=null&&d.set&&this.shouldDo(h,i,n)&&(t.state=f,g=f.methods.set(t),oe(t.edges,t.rect,{x:t.coords.x-v.x,y:t.coords.y-v.y})),u.eventProps.push(g)}P(this.edges,t.edges),u.delta.x=t.coords.x-t.pageCoords.x,u.delta.y=t.coords.y-t.pageCoords.y,u.rectDelta.left=t.rect.left-s.left,u.rectDelta.right=t.rect.right-s.right,u.rectDelta.top=t.rect.top-s.top,u.rectDelta.bottom=t.rect.bottom-s.bottom;var m=this.result.coords,y=this.result.rect;if(m&&y){var w=u.rect.left!==y.left||u.rect.right!==y.right||u.rect.top!==y.top||u.rect.bottom!==y.bottom;u.changed=w||m.x!==u.coords.x||m.y!==u.coords.y}return u}},{key:"applyToInteraction",value:function(t){var n=this.interaction,i=t.phase,a=n.coords.cur,s=n.coords.start,c=this.result,l=this.startDelta,u=c.delta;i==="start"&&P(this.startDelta,c.delta);for(var p=0,d=[[s,l],[a,u]];p<d.length;p++){var f=d[p],h=f[0],v=f[1];h.page.x+=v.x,h.page.y+=v.y,h.client.x+=v.x,h.client.y+=v.y}var g=this.result.rectDelta,m=t.rect||n.rect;m.left+=g.left,m.right+=g.right,m.top+=g.top,m.bottom+=g.bottom,m.width=m.right-m.left,m.height=m.bottom-m.top}},{key:"setAndApply",value:function(t){var n=this.interaction,i=t.phase,a=t.preEnd,s=t.skipModifiers,c=this.setAll(this.fillArg({preEnd:a,phase:i,pageCoords:t.modifiedCoords||n.coords.cur.page}));if(this.result=c,!c.changed&&(!s||s<this.states.length)&&n.interacting())return!1;if(t.modifiedCoords){var l=n.coords.cur.page,u={x:t.modifiedCoords.x-l.x,y:t.modifiedCoords.y-l.y};c.coords.x+=u.x,c.coords.y+=u.y,c.delta.x+=u.x,c.delta.y+=u.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var n=t.interaction,i=t.event,a=this.states;if(a&&a.length){for(var s=!1,c=0;c<a.length;c++){var l=a[c];t.state=l;var u=l.options,p=l.methods,d=p.beforeEnd&&p.beforeEnd(t);if(d)return this.endResult=d,!1;s=s||!s&&this.shouldDo(u,!0,t.phase,!0)}s&&n.move({event:i,preEnd:!0})}}},{key:"stop",value:function(t){var n=t.interaction;if(this.states&&this.states.length){var i=P({states:this.states,interactable:n.interactable,element:n.element,rect:null},t);this.fillArg(i);for(var a=0,s=this.states;a<s.length;a++){var c=s[a];i.state=c,c.methods.stop&&c.methods.stop(i)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var n=0;n<t.length;n++){var i=t[n],a=i.options,s=i.methods,c=i.name;this.states.push({options:a,methods:s,index:n,name:c})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var n=t.interaction,i=n.coords,a=n.rect,s=n.modification;if(s.result){for(var c=s.startDelta,l=s.result,u=l.delta,p=l.rectDelta,d=0,f=[[i.start,c],[i.cur,u]];d<f.length;d++){var h=f[d],v=h[0],g=h[1];v.page.x-=g.x,v.page.y-=g.y,v.client.x-=g.x,v.client.y-=g.y}a.left-=p.left,a.right-=p.right,a.top-=p.top,a.bottom-=p.bottom}}},{key:"shouldDo",value:function(t,n,i,a){return!(!t||t.enabled===!1||a&&!t.endOnly||t.endOnly&&!n||i==="start"&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map(function(n){return ye(n)}),this.result=Se(P({},t.result.coords),P({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}]),e}();function Se(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Pe(e,t){var n=e.defaults,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},a=function(s){var c=s||{};for(var l in c.enabled=c.enabled!==!1,n)l in c||(c[l]=n[l]);var u={options:c,methods:i,name:t,enable:function(){return c.enabled=!0,u},disable:function(){return c.enabled=!1,u}};return u};return t&&typeof t=="string"&&(a._defaults=n,a._methods=i),a}function Ge(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}var An={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new se(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,i=n.setAndApply(e);return t.edges=n.edges,i},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,i=n.beforeEnd(e);return t.edges=n.startEdges,i},"interactions:action-start":Ge,"interactions:action-move":Ge,"interactions:action-end":Ge,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},qt=An,Cn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},pn=function(e){te(n,e);var t=pe(n);function n(i,a,s,c,l,u,p){var d;A(this,n),(d=t.call(this,i)).relatedTarget=null,d.screenX=void 0,d.screenY=void 0,d.button=void 0,d.buttons=void 0,d.ctrlKey=void 0,d.shiftKey=void 0,d.altKey=void 0,d.metaKey=void 0,d.page=void 0,d.client=void 0,d.delta=void 0,d.rect=void 0,d.x0=void 0,d.y0=void 0,d.t0=void 0,d.dt=void 0,d.duration=void 0,d.clientX0=void 0,d.clientY0=void 0,d.velocity=void 0,d.speed=void 0,d.swipe=void 0,d.axes=void 0,d.preEnd=void 0,l=l||i.element;var f=i.interactable,h=(f&&f.options||Cn).deltaSource,v=Be(f,l,s),g=c==="start",m=c==="end",y=g?de(d):i.prevEvent,w=g?i.coords.start:m?{page:y.page,client:y.client,timeStamp:i.coords.cur.timeStamp}:i.coords.cur;return d.page=P({},w.page),d.client=P({},w.client),d.rect=P({},i.rect),d.timeStamp=w.timeStamp,m||(d.page.x-=v.x,d.page.y-=v.y,d.client.x-=v.x,d.client.y-=v.y),d.ctrlKey=a.ctrlKey,d.altKey=a.altKey,d.shiftKey=a.shiftKey,d.metaKey=a.metaKey,d.button=a.button,d.buttons=a.buttons,d.target=l,d.currentTarget=l,d.preEnd=u,d.type=p||s+(c||""),d.interactable=f,d.t0=g?i.pointers[i.pointers.length-1].downTime:y.t0,d.x0=i.coords.start.page.x-v.x,d.y0=i.coords.start.page.y-v.y,d.clientX0=i.coords.start.client.x-v.x,d.clientY0=i.coords.start.client.y-v.y,d.delta=g||m?{x:0,y:0}:{x:d[h].x-y[h].x,y:d[h].y-y[h].y},d.dt=i.coords.delta.timeStamp,d.duration=d.timeStamp-d.t0,d.velocity=P({},i.coords.velocity[h]),d.speed=we(d.velocity.x,d.velocity.y),d.swipe=m||c==="inertiastart"?d.getSwipe():null,d}return R(n,[{key:"getSwipe",value:function(){var i=this._interaction;if(i.prevEvent.speed<600||this.timeStamp-i.prevEvent.timeStamp>150)return null;var a=180*Math.atan2(i.prevEvent.velocityY,i.prevEvent.velocityX)/Math.PI;a<0&&(a+=360);var s=112.5<=a&&a<247.5,c=202.5<=a&&a<337.5;return{up:c,down:!c&&22.5<=a&&a<157.5,left:s,right:!s&&(292.5<=a||a<67.5),angle:a,speed:i.prevEvent.speed,velocity:{x:i.prevEvent.velocityX,y:i.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(pt);Object.defineProperties(pn.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Rn=R(function e(t,n,i,a,s){A(this,e),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=n,this.event=i,this.downTime=a,this.downTarget=s}),li=function(e){return e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy="",e}({}),jn=function(e){return e.start="",e.move="",e.end="",e.stop="",e.interacting="",e}({}),Fn=0,Ln=function(){function e(t){var n=this,i=t.pointerType,a=t.scopeFire;A(this,e),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=vt(function(d){this.move(d)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Fn++,this._scopeFire=a,this.pointerType=i;var s=this;this._proxy={};var c=function(d){Object.defineProperty(n._proxy,d,{get:function(){return s[d]}})};for(var l in li)c(l);var u=function(d){Object.defineProperty(n._proxy,d,{value:function(){return s[d].apply(s,arguments)}})};for(var p in jn)u(p);this._scopeFire("interactions:new",{interaction:this})}return R(e,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,n,i){var a=this.updatePointer(t,n,i,!0),s=this.pointers[a];this._scopeFire("interactions:down",{pointer:t,event:n,eventTarget:i,pointerIndex:a,pointerInfo:s,type:"down",interaction:this})}},{key:"start",value:function(t,n,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!n.options[t.name].enabled)&&(an(this.prepared,t),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?P({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,n,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,n,i,!1);var a,s,c=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(a=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=we(a,s)>this.pointerMoveTolerance);var l,u,p,d=this.getPointerIndex(t),f={pointer:t,pointerIndex:d,pointerInfo:this.pointers[d],event:n,type:"move",eventTarget:i,dx:a,dy:s,duplicate:c,interaction:this};c||(l=this.coords.velocity,u=this.coords.delta,p=Math.max(u.timeStamp/1e3,.001),l.page.x=u.page.x/p,l.page.y=u.page.y/p,l.client.x=u.client.x/p,l.client.y=u.client.y/p,l.timeStamp=p),this._scopeFire("interactions:move",f),c||this.simulation||(this.interacting()&&(f.type=null,this.move(f)),this.pointerWasMoved&&st(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||ct(this.coords.delta),(t=P({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,n,i,a){var s=this.getPointerIndex(t);s===-1&&(s=this.updatePointer(t,n,i,!1));var c=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:".concat(c),{pointer:t,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:i,type:c,curEventTarget:a,interaction:this}),this.simulation||this.end(n),this.removePointer(t,n)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var n;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var n=je(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:ae(this.pointers,function(i){return i.id===n})}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,n,i,a){var s,c,l,u=je(t),p=this.getPointerIndex(t),d=this.pointers[p];return a=a!==!1&&(a||/(down|start)$/i.test(n.type)),d?d.pointer=t:(d=new Rn(u,t,n,null,null),p=this.pointers.length,this.pointers.push(d)),kn(this.coords.cur,this.pointers.map(function(f){return f.pointer}),this._now()),s=this.coords.delta,c=this.coords.prev,l=this.coords.cur,s.page.x=l.page.x-c.page.x,s.page.y=l.page.y-c.page.y,s.client.x=l.client.x-c.client.x,s.client.y=l.client.y-c.client.y,s.timeStamp=l.timeStamp-c.timeStamp,a&&(this.pointerIsDown=!0,d.downTime=this.coords.cur.timeStamp,d.downTarget=i,at(this.downPointer,t),this.interacting()||(st(this.coords.start,this.coords.cur),st(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(t,n,i),this._scopeFire("interactions:update-pointer",{pointer:t,event:n,eventTarget:i,down:a,pointerInfo:d,pointerIndex:p,interaction:this}),p}},{key:"removePointer",value:function(t,n){var i=this.getPointerIndex(t);if(i!==-1){var a=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:t,event:n,eventTarget:null,pointerIndex:i,pointerInfo:a,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,n,i){this._latestPointer.pointer=t,this._latestPointer.event=n,this._latestPointer.eventTarget=i}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,n,i,a){return new pn(this,t,this.prepared.name,n,this.element,i,a)}},{key:"_fireEvent",value:function(t){var n;(n=this.interactable)==null||n.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var n=t.event,i=t.phase,a=t.preEnd,s=t.type,c=this.rect;if(c&&i==="move"&&(oe(this.edges,c,this.coords.delta[this.interactable.options.deltaSource]),c.width=c.right-c.left,c.height=c.bottom-c.top),this._scopeFire("interactions:before-action-".concat(i),t)===!1)return!1;var l=t.iEvent=this._createPreparedEvent(n,i,a,s);return this._scopeFire("interactions:action-".concat(i),t),i==="start"&&(this.prevEvent=l),this._fireEvent(l),this._scopeFire("interactions:after-action-".concat(i),t),!0}},{key:"_now",value:function(){return Date.now()}}]),e}();function qn(e){Xt(e.interaction)}function Xt(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Yt(e.coords.cur,t),Yt(e.coords.delta,t),oe(e.edges,e.rect,t),t.x=0,t.y=0,!0}function ui(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Yt(e,t){var n=e.page,i=e.client,a=t.x,s=t.y;n.x+=a,n.y+=s,i.x+=a,i.y+=s}jn.offsetBy="";var di={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=ui},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return function(t){t.pointerIsDown&&(Yt(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)}(e.interaction)},"interactions:before-action-start":qn,"interactions:before-action-move":qn,"interactions:before-action-end":function(e){var t=e.interaction;if(Xt(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},yt=di,pi=function(){function e(t){A(this,e),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return R(e,[{key:"start",value:function(t){var n=this.interaction,i=bt(n);if(!i||!i.enabled)return!1;var a=n.coords.velocity.client,s=we(a.x,a.y),c=this.modification||(this.modification=new se(n));if(c.copyFrom(n.modification),this.t0=n._now(),this.allowResume=i.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=c.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&s>i.minSpeed&&s>i.endSpeed)this.startInertia();else{if(c.result=c.setAll(this.modifierArg),!c.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:t,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,n=this.interaction.coords.velocity.client,i=bt(this.interaction),a=i.resistance,s=-Math.log(i.endSpeed/this.v0)/a;this.targetOffset={x:(n.x-s)/a,y:(n.y-s)/a},this.te=s,this.lambda_v0=a/this.v0,this.one_ve_v0=1-i.endSpeed/this.v0;var c=this.modification,l=this.modifierArg;l.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},c.result=c.setAll(l),c.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+c.result.delta.x,y:this.targetOffset.y+c.result.delta.y}),this.onNextFrame(function(){return t.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return t.smoothEndTick()})}},{key:"onNextFrame",value:function(t){var n=this;this.timeout=me.request(function(){n.active&&t()})}},{key:"inertiaTick",value:function(){var t,n,i,a,s,c,l,u=this,p=this.interaction,d=bt(p).resistance,f=(p._now()-this.t0)/1e3;if(f<this.te){var h,v=1-(Math.exp(-d*f)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,n=0,i=this.targetOffset.x,a=this.targetOffset.y,s=this.modifiedOffset.x,c=this.modifiedOffset.y,h={x:Yn(l=v,t,i,s),y:Yn(l,n,a,c)}):h={x:this.targetOffset.x*v,y:this.targetOffset.y*v};var g={x:h.x-this.currentOffset.x,y:h.y-this.currentOffset.y};this.currentOffset.x+=g.x,this.currentOffset.y+=g.y,p.offsetBy(g),p.move(),this.onNextFrame(function(){return u.inertiaTick()})}else p.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,n=this.interaction,i=n._now()-this.t0,a=bt(n).smoothEndDuration;if(i<a){var s={x:fn(i,0,this.targetOffset.x,a),y:fn(i,0,this.targetOffset.y,a)},c={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=c.x,this.currentOffset.y+=c.y,n.offsetBy(c),n.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return t.smoothEndTick()})}else n.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var n=t.pointer,i=t.event,a=t.eventTarget,s=this.interaction;s.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),s.updatePointer(n,i,a,!0),s._doPhase({interaction:s,event:i,phase:"resume"}),st(s.coords.prev,s.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,me.cancel(this.timeout)}}]),e}();function bt(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}var Xn={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(yt),e.usePlugin(qt),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new pi(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,i=t.inertia;if(i.active)for(var a=n;x.element(a);){if(a===t.element){i.resume(e);break}a=ne(a)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Ge,"interactions:action-inertiastart":Ge,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Yn(e,t,n,i){var a=1-e;return a*a*t+2*a*e*n+e*e*i}function fn(e,t,n,i){return-n*(e/=i)*(e-2)+t}var Bn=Xn;function Hn(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e.immediatePropagationStopped)break;i(e)}}var Ue=function(){function e(t){A(this,e),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=P({},t||{})}return R(e,[{key:"fire",value:function(t){var n,i=this.global;(n=this.types[t.type])&&Hn(t,n),!t.propagationStopped&&i&&(n=i[t.type])&&Hn(t,n)}},{key:"on",value:function(t,n){var i=ie(t,n);for(t in i)this.types[t]=He(this.types[t]||[],i[t])}},{key:"off",value:function(t,n){var i=ie(t,n);for(t in i){var a=this.types[t];if(a&&a.length)for(var s=0,c=i[t];s<c.length;s++){var l=c[s],u=a.indexOf(l);u!==-1&&a.splice(u,1)}}}},{key:"getRect",value:function(t){return null}}]),e}(),Bt=function(){function e(t){A(this,e),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,at(this,t)}return R(e,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),e}();function xt(e){return x.object(e)?{capture:!!e.capture,passive:!!e.passive}:{capture:!!e,passive:!1}}function Ke(e,t){return e===t||(typeof e=="boolean"?!!t.capture===e&&!t.passive:!!e.capture==!!t.capture&&!!e.passive==!!t.passive)}var $n={id:"events",install:function(e){var t,n=[],i={},a=[],s={add:c,remove:l,addDelegate:function(d,f,h,v,g){var m=xt(g);if(!i[h]){i[h]=[];for(var y=0;y<a.length;y++){var w=a[y];c(w,h,u),c(w,h,p,!0)}}var _=i[h],E=We(_,function(k){return k.selector===d&&k.context===f});E||(E={selector:d,context:f,listeners:[]},_.push(E)),E.listeners.push({func:v,options:m})},removeDelegate:function(d,f,h,v,g){var m,y=xt(g),w=i[h],_=!1;if(w)for(m=w.length-1;m>=0;m--){var E=w[m];if(E.selector===d&&E.context===f){for(var k=E.listeners,S=k.length-1;S>=0;S--){var T=k[S];if(T.func===v&&Ke(T.options,y)){k.splice(S,1),k.length||(w.splice(m,1),l(f,h,u),l(f,h,p,!0)),_=!0;break}}if(_)break}}},delegateListener:u,delegateUseCapture:p,delegatedEvents:i,documents:a,targets:n,supportsOptions:!1,supportsPassive:!1};function c(d,f,h,v){if(d.addEventListener){var g=xt(v),m=We(n,function(y){return y.eventTarget===d});m||(m={eventTarget:d,events:{}},n.push(m)),m.events[f]||(m.events[f]=[]),We(m.events[f],function(y){return y.func===h&&Ke(y.options,g)})||(d.addEventListener(f,h,s.supportsOptions?g:g.capture),m.events[f].push({func:h,options:g}))}}function l(d,f,h,v){if(d.addEventListener&&d.removeEventListener){var g=ae(n,function(L){return L.eventTarget===d}),m=n[g];if(m&&m.events)if(f!=="all"){var y=!1,w=m.events[f];if(w){if(h==="all"){for(var _=w.length-1;_>=0;_--){var E=w[_];l(d,f,E.func,E.options)}return}for(var k=xt(v),S=0;S<w.length;S++){var T=w[S];if(T.func===h&&Ke(T.options,k)){d.removeEventListener(f,h,s.supportsOptions?k:k.capture),w.splice(S,1),w.length===0&&(delete m.events[f],y=!0);break}}}y&&!Object.keys(m.events).length&&n.splice(g,1)}else for(f in m.events)m.events.hasOwnProperty(f)&&l(d,f,"all")}}function u(d,f){for(var h=xt(f),v=new Bt(d),g=i[d.type],m=Zt(d)[0],y=m;x.element(y);){for(var w=0;w<g.length;w++){var _=g[w],E=_.selector,k=_.context;if(he(y,E)&&U(k,m)&&U(k,y)){var S=_.listeners;v.currentTarget=y;for(var T=0;T<S.length;T++){var L=S[T];Ke(L.options,h)&&L.func(v)}}}y=ne(y)}}function p(d){return u(d,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),e.events=s,s}},hn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0,n=hn.methodOrder;t<n.length;t++){var i=n[t],a=hn[i](e);if(a)return a}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,i=e.eventTarget,a=e.scope;if(!/down|start/i.test(n))return null;for(var s=0,c=a.interactions.list;s<c.length;s++){var l=c[s],u=i;if(l.simulation&&l.simulation.allowResume&&l.pointerType===t)for(;u;){if(u===l.element)return l;u=ne(u)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,i=e.pointerType,a=e.eventType,s=e.scope;if(i!=="mouse"&&i!=="pen")return null;for(var c=0,l=s.interactions.list;c<l.length;c++){var u=l[c];if(u.pointerType===i){if(u.simulation&&!Ht(u,n))continue;if(u.interacting())return u;t||(t=u)}}if(t)return t;for(var p=0,d=s.interactions.list;p<d.length;p++){var f=d[p];if(!(f.pointerType!==i||/down/i.test(a)&&f.simulation))return f}return null},hasPointer:function(e){for(var t=e.pointerId,n=0,i=e.scope.interactions.list;n<i.length;n++){var a=i[n];if(Ht(a,t))return a}return null},idle:function(e){for(var t=e.pointerType,n=0,i=e.scope.interactions.list;n<i.length;n++){var a=i[n];if(a.pointers.length===1){var s=a.interactable;if(s&&(!s.options.gesture||!s.options.gesture.enabled))continue}else if(a.pointers.length>=2)continue;if(!a.interacting()&&t===a.pointerType)return a}return null}};function Ht(e,t){return e.pointers.some(function(n){return n.id===t})}var Wn=hn,$t=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wt(e,t){return function(n){var i=t.interactions.list,a=dt(n),s=Zt(n),c=s[0],l=s[1],u=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var p=0,d=n.changedTouches;p<d.length;p++){var f=d[p],h={pointer:f,pointerId:je(f),pointerType:a,eventType:n.type,eventTarget:c,curEventTarget:l,scope:t},v=Vn(h);u.push([h.pointer,h.eventTarget,h.curEventTarget,v])}}else{var g=!1;if(!ee.supportsPointerEvent&&/mouse/.test(n.type)){for(var m=0;m<i.length&&!g;m++)g=i[m].pointerType!=="mouse"&&i[m].pointerIsDown;g=g||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!g){var y={pointer:n,pointerId:je(n),pointerType:a,eventType:n.type,curEventTarget:l,eventTarget:c,scope:t},w=Vn(y);u.push([y.pointer,y.eventTarget,y.curEventTarget,w])}}for(var _=0;_<u.length;_++){var E=u[_],k=E[0],S=E[1],T=E[2];E[3][e](k,n,S,T)}}}function Vn(e){var t=e.pointerType,n=e.scope,i={interaction:Wn.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function vn(e,t){var n=e.doc,i=e.scope,a=e.options,s=i.interactions.docEvents,c=i.events,l=c[t];for(var u in i.browser.isIOS&&!a.events&&(a.events={passive:!1}),c.delegatedEvents)l(n,u,c.delegateListener),l(n,u,c.delegateUseCapture,!0);for(var p=a&&a.events,d=0;d<s.length;d++){var f=s[d];l(n,f.type,f.listener,p)}}var Oe={id:"core/interactions",install:function(e){for(var t={},n=0;n<$t.length;n++){var i=$t[n];t[i]=Wt(i,e)}var a,s=ee.pEventTypes;function c(){for(var l=0,u=e.interactions.list;l<u.length;l++){var p=u[l];if(p.pointerIsDown&&p.pointerType==="touch"&&!p._interacting)for(var d=function(){var v=h[f];e.documents.some(function(g){return U(g.doc,v.downTarget)})||p.removePointer(v.pointer,v.event)},f=0,h=p.pointers;f<h.length;f++)d()}}(a=q.PointerEvent?[{type:s.down,listener:c},{type:s.down,listener:t.pointerDown},{type:s.move,listener:t.pointerMove},{type:s.up,listener:t.pointerUp},{type:s.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(l){for(var u=0,p=e.interactions.list;u<p.length;u++)p[u].documentBlur(l)}}),e.prevTouchTime=0,e.Interaction=function(l){te(p,l);var u=pe(p);function p(){return A(this,p),u.apply(this,arguments)}return R(p,[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(d){e.interactions.pointerMoveTolerance=d}},{key:"_now",value:function(){return e.now()}}]),p}(Ln),e.interactions={list:[],new:function(l){l.scopeFire=function(p,d){return e.fire(p,d)};var u=new e.Interaction(l);return e.interactions.list.push(u),u},listeners:t,docEvents:a,pointerMoveTolerance:1},e.usePlugin(Le)},listeners:{"scope:add-document":function(e){return vn(e,"add")},"scope:remove-document":function(e){return vn(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,i=t.interactions.list.length-1;i>=0;i--){var a=t.interactions.list[i];a.interactable===n&&(a.stop(),t.fire("interactions:destroy",{interaction:a}),a.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:vn,doOnInteractions:Wt,methodNames:$t},fi=Oe,Me=function(e){return e[e.On=0]="On",e[e.Off=1]="Off",e}(Me||{}),hi=function(){function e(t,n,i,a){A(this,e),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Ue,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=t,this._context=n.context||i,this._win=re(Jt(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=a,this.set(n)}return R(e,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,n){return x.func(n.onstart)&&this.on("".concat(t,"start"),n.onstart),x.func(n.onmove)&&this.on("".concat(t,"move"),n.onmove),x.func(n.onend)&&this.on("".concat(t,"end"),n.onend),x.func(n.oninertiastart)&&this.on("".concat(t,"inertiastart"),n.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,n,i){var a,s=this,c=(a=this._actions.map[t])==null?void 0:a.filterEventType,l=function(u){return(c==null||c(u))&&Ne(u,s._actions)};(x.array(n)||x.object(n))&&this._onOff(Me.Off,t,n,void 0,l),(x.array(i)||x.object(i))&&this._onOff(Me.On,t,i,void 0,l)}},{key:"setPerAction",value:function(t,n){var i=this._defaults;for(var a in n){var s=a,c=this.options[t],l=n[s];s==="listeners"&&this.updatePerActionListeners(t,c.listeners,l),x.array(l)?c[s]=$e(l):x.plainObject(l)?(c[s]=P(c[s]||{},ye(l)),x.object(i.perAction[s])&&"enabled"in i.perAction[s]&&(c[s].enabled=l.enabled!==!1)):x.bool(l)&&x.object(i.perAction[s])?c[s].enabled=l:c[s]=l}}},{key:"getRect",value:function(t){return t=t||(x.element(this.target)?this.target:null),x.string(this.target)&&(t=t||this._context.querySelector(this.target)),Ot(t)}},{key:"rectChecker",value:function(t){var n=this;return x.func(t)?(this.getRect=function(i){var a=P({},t.apply(n,i));return"width"in a||(a.width=a.right-a.left,a.height=a.bottom-a.top),a},this):t===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,n){if(Jt(n)||x.object(n)){for(var i in this.options[t]=n,this._actions.map)this.options[i][t]=n;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var t=this.target;return x.string(t)?Array.from(this._context.querySelectorAll(t)):x.func(t)&&t.getAllElements?t.getAllElements():x.element(t)?[t]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||U(this._context,t)}},{key:"testIgnoreAllow",value:function(t,n,i){return!this.testIgnore(t.ignoreFrom,n,i)&&this.testAllow(t.allowFrom,n,i)}},{key:"testAllow",value:function(t,n,i){return!t||!!x.element(i)&&(x.string(t)?rt(i,t,n):!!x.element(t)&&U(t,i))}},{key:"testIgnore",value:function(t,n,i){return!(!t||!x.element(i))&&(x.string(t)?rt(i,t,n):!!x.element(t)&&U(t,i))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,n,i,a,s){x.object(n)&&!x.array(n)&&(a=i,i=null);var c=ie(n,i,s);for(var l in c){l==="wheel"&&(l=ee.wheelEvent);for(var u=0,p=c[l];u<p.length;u++){var d=p[u];Ne(l,this._actions)?this.events[t===Me.On?"on":"off"](l,d):x.string(this.target)?this._scopeEvents[t===Me.On?"addDelegate":"removeDelegate"](this.target,this._context,l,d,a):this._scopeEvents[t===Me.On?"add":"remove"](this.target,l,d,a)}}return this}},{key:"on",value:function(t,n,i){return this._onOff(Me.On,t,n,i)}},{key:"off",value:function(t,n,i){return this._onOff(Me.Off,t,n,i)}},{key:"set",value:function(t){var n=this._defaults;for(var i in x.object(t)||(t={}),this.options=ye(n.base),this._actions.methodDict){var a=i,s=this._actions.methodDict[a];this.options[a]={},this.setPerAction(a,P(P({},n.perAction),n.actions[a])),this[s](t[a])}for(var c in t)c!=="getRect"?x.func(this[c])&&this[c](t[c]):this.rectChecker(t.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var n=this._scopeEvents.delegatedEvents[t],i=n.length-1;i>=0;i--){var a=n[i],s=a.selector,c=a.context,l=a.listeners;s===this.target&&c===this._context&&n.splice(i,1);for(var u=l.length-1;u>=0;u--)this._scopeEvents.removeDelegate(this.target,this._context,t,l[u][0],l[u][1])}else this._scopeEvents.remove(this.target,"all")}}]),e}(),Nn=function(){function e(t){var n=this;A(this,e),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(i){var a=i.interactable,s=a.target,c=x.string(s)?n.selectorMap[s]:s[n.scope.id],l=ae(c,function(u){return u===a});c.splice(l,1)}})}return R(e,[{key:"new",value:function(t,n){n=P(n||{},{actions:this.scope.actions});var i=new this.scope.Interactable(t,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),x.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(i)):(i.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:t,options:n,interactable:i,win:this.scope._win}),i}},{key:"getExisting",value:function(t,n){var i=n&&n.context||this.scope.document,a=x.string(t),s=a?this.selectorMap[t]:t[this.scope.id];if(s)return We(s,function(c){return c._context===i&&(a||c.inContext(t))})}},{key:"forEachMatch",value:function(t,n){for(var i=0,a=this.list;i<a.length;i++){var s=a[i],c=void 0;if((x.string(s.target)?x.element(t)&&he(t,s.target):t===s.target)&&s.inContext(t)&&(c=n(s)),c!==void 0)return c}}}]),e}(),Gn=function(){function e(){var t=this;A(this,e),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=ee,this.defaults=ye(Cn),this.Eventable=Ue,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(i){var a=function s(c,l){var u=i.interactables.getExisting(c,l);return u||((u=i.interactables.new(c,l)).events.global=s.globalEvents),u};return a.getPointerAverage=Dt,a.getTouchBBox=ut,a.getTouchDistance=It,a.getTouchAngle=zt,a.getElementRect=Ot,a.getElementClientRect=Pt,a.matchesSelector=he,a.closest=fe,a.globalEvents={},a.version="1.10.27",a.scope=i,a.use=function(s,c){return this.scope.usePlugin(s,c),this},a.isSet=function(s,c){return!!this.scope.interactables.get(s,c&&c.context)},a.on=vt(function(s,c,l){if(x.string(s)&&s.search(" ")!==-1&&(s=s.trim().split(/ +/)),x.array(s)){for(var u=0,p=s;u<p.length;u++){var d=p[u];this.on(d,c,l)}return this}if(x.object(s)){for(var f in s)this.on(f,s[f],c);return this}return Ne(s,this.scope.actions)?this.globalEvents[s]?this.globalEvents[s].push(c):this.globalEvents[s]=[c]:this.scope.events.add(this.scope.document,s,c,{options:l}),this},"The interact.on() method is being deprecated"),a.off=vt(function(s,c,l){if(x.string(s)&&s.search(" ")!==-1&&(s=s.trim().split(/ +/)),x.array(s)){for(var u=0,p=s;u<p.length;u++){var d=p[u];this.off(d,c,l)}return this}if(x.object(s)){for(var f in s)this.off(f,s[f],c);return this}var h;return Ne(s,this.scope.actions)?s in this.globalEvents&&(h=this.globalEvents[s].indexOf(c))!==-1&&this.globalEvents[s].splice(h,1):this.scope.events.remove(this.scope.document,s,c,l),this},"The interact.off() method is being deprecated"),a.debug=function(){return this.scope},a.supportsTouch=function(){return ee.supportsTouch},a.supportsPointerEvent=function(){return ee.supportsPointerEvent},a.stop=function(){for(var s=0,c=this.scope.interactions.list;s<c.length;s++)c[s].stop();return this},a.pointerMoveTolerance=function(s){return x.number(s)?(this.scope.interactions.pointerMoveTolerance=s,this):this.scope.interactions.pointerMoveTolerance},a.addDocument=function(s,c){this.scope.addDocument(s,c)},a.removeDocument=function(s){this.scope.removeDocument(s)},a}(this),this.InteractEvent=pn,this.Interactable=void 0,this.interactables=new Nn(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(i){return t.removeDocument(i.target)};var n=this;this.Interactable=function(i){te(s,i);var a=pe(s);function s(){return A(this,s),a.apply(this,arguments)}return R(s,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(c){return tt(J(s.prototype),"set",this).call(this,c),n.fire("interactable:set",{options:c,interactable:this}),this}},{key:"unset",value:function(){tt(J(s.prototype),"unset",this).call(this);var c=n.interactables.list.indexOf(this);c<0||(n.interactables.list.splice(c,1),n.fire("interactable:unset",{interactable:this}))}}]),s}(hi)}return R(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var i=0,a=this.listenerMaps;i<a.length;i++){var s=a[i].map[t];if(s&&s(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:function(n,i){return n.isInitialized=!0,x.window(i)&&nt(i),q.init(i),ee.init(i),me.init(i),n.window=i,n.document=i.document,n.usePlugin(fi),n.usePlugin($n),n}(this,t)}},{key:"pluginIsInstalled",value:function(t){var n=t.id;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var i=0,a=this.listenerMaps.length,s=t.before.reduce(function(l,u){return l[u]=!0,l[V(u)]=!0,l},{});i<a;i++){var c=this.listenerMaps[i].id;if(c&&(s[c]||s[V(c)]))break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var i=re(t);n=n?P({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),i=re(t),a=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:a})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function V(e){return e&&e.replace(/\/.*$/,"")}var Un=new Gn,K=Un.interactStatic,vi=typeof globalThis<"u"?globalThis:window;Un.init(vi);var gi=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var a=i[0],s=i[1];return a in e||s in e}),n=function(i,a){for(var s=e.range,c=e.limits,l=c===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:c,u=e.offset,p=u===void 0?{x:0,y:0}:u,d={range:s,grid:e,x:null,y:null},f=0;f<t.length;f++){var h=t[f],v=h[0],g=h[1],m=Math.round((i-p.x)/e[v]),y=Math.round((a-p.y)/e[g]);d[v]=Math.max(l.left,Math.min(l.right,m*e[v]+p.x)),d[g]=Math.max(l.top,Math.min(l.bottom,y*e[g]+p.y))}return d};return n.grid=e,n.coordFields=t,n}}),mi={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=P(t.snappers||{},gi),t.createSnapGrid=t.snappers.grid}},yi=mi,bi={start:function(e){var t=e.state,n=e.rect,i=e.edges,a=e.pageCoords,s=t.options,c=s.ratio,l=s.enabled,u=t.options,p=u.equalDelta,d=u.modifiers;c==="preserve"&&(c=n.width/n.height),t.startCoords=P({},a),t.startRect=P({},n),t.ratio=c,t.equalDelta=p;var f=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var h=(f.left?1:-1)*(f.top?1:-1);t.edgeSign={x:h,y:h}}else t.edgeSign={x:f.left?-1:1,y:f.top?-1:1};if(l!==!1&&P(i,f),d!=null&&d.length){var v=new se(e.interaction);v.copyFrom(e.interaction.modification),v.prepareStates(d),t.subModification=v,v.startAll(z({},e))}},set:function(e){var t=e.state,n=e.rect,i=e.coords,a=t.linkedEdges,s=P({},i),c=t.equalDelta?xi:Kn;if(P(e.edges,a),c(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;var l=P({},n);oe(a,l,{x:i.x-s.x,y:i.y-s.y});var u=t.subModification.setAll(z(z({},e),{},{rect:l,edges:a,pageCoords:i,prevCoords:i,prevRect:l})),p=u.delta;return u.changed&&(c(t,Math.abs(p.x)>Math.abs(p.y),u.coords,u.rect),P(i,u.coords)),u.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function xi(e,t,n){var i=e.startCoords,a=e.edgeSign;t?n.y=i.y+(n.x-i.x)*a.y:n.x=i.x+(n.y-i.y)*a.x}function Kn(e,t,n,i){var a=e.startRect,s=e.startCoords,c=e.ratio,l=e.edgeSign;if(t){var u=i.width/c;n.y=s.y+(u-a.height)*l.y}else{var p=i.height*c;n.x=s.x+(p-a.width)*l.x}}var Vt=Pe(bi,"aspectRatio"),De=function(){};De._defaults={};var qe=De;function Xe(e,t,n){return x.func(e)?Ae(e,t.interactable,t.element,[n.x,n.y,t]):Ae(e,t.interactable,t.element)}var wt={start:function(e){var t=e.rect,n=e.startOffset,i=e.state,a=e.interaction,s=e.pageCoords,c=i.options,l=c.elementRect,u=P({left:0,top:0,right:0,bottom:0},c.offset||{});if(t&&l){var p=Xe(c.restriction,a,s);if(p){var d=p.right-p.left-t.width,f=p.bottom-p.top-t.height;d<0&&(u.left+=d,u.right+=d),f<0&&(u.top+=f,u.bottom+=f)}u.left+=n.left-t.width*l.left,u.top+=n.top-t.height*l.top,u.right+=n.right-t.width*(1-l.right),u.bottom+=n.bottom-t.height*(1-l.bottom)}i.offset=u},set:function(e){var t=e.coords,n=e.interaction,i=e.state,a=i.options,s=i.offset,c=Xe(a.restriction,n,t);if(c){var l=function(u){return!u||"left"in u&&"top"in u||((u=P({},u)).left=u.x||0,u.top=u.y||0,u.right=u.right||u.left+u.width,u.bottom=u.bottom||u.top+u.height),u}(c);t.x=Math.max(Math.min(l.right-s.right,t.x),l.left+s.left),t.y=Math.max(Math.min(l.bottom-s.bottom,t.y),l.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Jn=Pe(wt,"restrict"),gn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Je={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Qn(e,t){for(var n=0,i=["top","left","bottom","right"];n<i.length;n++){var a=i[n];a in e||(e[a]=t[a])}return e}var _t={noInner:gn,noOuter:Je,start:function(e){var t,n=e.interaction,i=e.startOffset,a=e.state,s=a.options;s&&(t=Ce(Xe(s.offset,n,n.coords.start.page))),t=t||{x:0,y:0},a.offset={top:t.y+i.top,left:t.x+i.left,bottom:t.y-i.bottom,right:t.x-i.right}},set:function(e){var t=e.coords,n=e.edges,i=e.interaction,a=e.state,s=a.offset,c=a.options;if(n){var l=P({},t),u=Xe(c.inner,i,l)||{},p=Xe(c.outer,i,l)||{};Qn(u,gn),Qn(p,Je),n.top?t.y=Math.min(Math.max(p.top+s.top,l.y),u.top+s.top):n.bottom&&(t.y=Math.max(Math.min(p.bottom+s.bottom,l.y),u.bottom+s.bottom)),n.left?t.x=Math.min(Math.max(p.left+s.left,l.x),u.left+s.left):n.right&&(t.x=Math.max(Math.min(p.right+s.right,l.x),u.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},wi=Pe(_t,"restrictEdges"),_i=P({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},wt.defaults),Ei=Pe({start:wt.start,set:wt.set,defaults:_i},"restrictRect"),ki={width:-1/0,height:-1/0},mn={width:1/0,height:1/0},Ti=Pe({start:function(e){return _t.start(e)},set:function(e){var t=e.interaction,n=e.state,i=e.rect,a=e.edges,s=n.options;if(a){var c=Re(Xe(s.min,t,e.coords))||ki,l=Re(Xe(s.max,t,e.coords))||mn;n.options={endOnly:s.endOnly,inner:P({},_t.noInner),outer:P({},_t.noOuter)},a.top?(n.options.inner.top=i.bottom-c.height,n.options.outer.top=i.bottom-l.height):a.bottom&&(n.options.inner.bottom=i.top+c.height,n.options.outer.bottom=i.top+l.height),a.left?(n.options.inner.left=i.right-c.width,n.options.outer.left=i.right-l.width):a.right&&(n.options.inner.right=i.left+c.width,n.options.outer.right=i.left+l.width),_t.set(e),n.options=s}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Qe={start:function(e){var t,n=e.interaction,i=e.interactable,a=e.element,s=e.rect,c=e.state,l=e.startOffset,u=c.options,p=u.offsetWithOrigin?function(h){var v=h.interaction.element,g=Ce(Ae(h.state.options.origin,null,null,[v])),m=g||Be(h.interactable,v,h.interaction.prepared.name);return m}(e):{x:0,y:0};if(u.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var d=Ae(u.offset,i,a,[n]);(t=Ce(d)||{x:0,y:0}).x+=p.x,t.y+=p.y}var f=u.relativePoints;c.offsets=s&&f&&f.length?f.map(function(h,v){return{index:v,relativePoint:h,x:l.left-s.width*h.x+t.x,y:l.top-s.height*h.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,i=e.state,a=i.options,s=i.offsets,c=Be(t.interactable,t.element,t.prepared.name),l=P({},n),u=[];a.offsetWithOrigin||(l.x-=c.x,l.y-=c.y);for(var p=0,d=s;p<d.length;p++)for(var f=d[p],h=l.x-f.x,v=l.y-f.y,g=0,m=a.targets.length;g<m;g++){var y=a.targets[g],w=void 0;(w=x.func(y)?y(h,v,t._proxy,f,g):y)&&u.push({x:(x.number(w.x)?w.x:h)+f.x,y:(x.number(w.y)?w.y:v)+f.y,range:x.number(w.range)?w.range:a.range,source:y,index:g,offset:f})}for(var _={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},E=0;E<u.length;E++){var k=u[E],S=k.range,T=k.x-l.x,L=k.y-l.y,C=we(T,L),B=C<=S;S===1/0&&_.inRange&&_.range!==1/0&&(B=!1),_.target&&!(B?_.inRange&&S!==1/0?C/S<_.distance/_.range:S===1/0&&_.range!==1/0||C<_.distance:!_.inRange&&C<_.distance)||(_.target=k,_.distance=C,_.range=S,_.inRange=B,_.delta.x=T,_.delta.y=L)}return _.inRange&&(n.x=_.target.x,n.y=_.target.y),i.closest=_,_},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Si=Pe(Qe,"snap"),Ze={start:function(e){var t=e.state,n=e.edges,i=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],Qe.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t=e.interaction,n=e.state,i=e.coords,a=n.options,s=n.offsets,c={x:i.x-s[0].x,y:i.y-s[0].y};n.options=P({},a),n.options.targets=[];for(var l=0,u=a.targets||[];l<u.length;l++){var p=u[l],d=void 0;if(d=x.func(p)?p(c.x,c.y,t):p){for(var f=0,h=n.targetFields;f<h.length;f++){var v=h[f],g=v[0],m=v[1];if(g in d||m in d){d.x=d[g],d.y=d[m];break}}n.options.targets.push(d)}}var y=Qe.set(e);return n.options=a,y},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Pi=Pe(Ze,"snapSize"),yn={aspectRatio:Vt,restrictEdges:wi,restrict:Jn,restrictRect:Ei,restrictSize:Ti,snapEdges:Pe({start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Ze.start(e)):null},set:Ze.set,defaults:P(ye(Ze.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Si,snapSize:Pi,spring:qe,avoid:qe,transform:qe,rubberband:qe},Zn={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(qt),e.usePlugin(yi),t.modifiers=yn,yn){var i=yn[n],a=i._defaults,s=i._methods;a._methods=s,e.defaults.perAction[n]=a}}},Et=Zn,be=function(e){te(n,e);var t=pe(n);function n(i,a,s,c,l,u){var p;if(A(this,n),at(de(p=t.call(this,l)),s),s!==a&&at(de(p),a),p.timeStamp=u,p.originalEvent=s,p.type=i,p.pointerId=je(a),p.pointerType=dt(a),p.target=c,p.currentTarget=null,i==="tap"){var d=l.getPointerIndex(a);p.dt=p.timeStamp-l.pointers[d].downTime;var f=p.timeStamp-l.tapTime;p.double=!!l.prevTap&&l.prevTap.type!=="doubletap"&&l.prevTap.target===p.target&&f<500}else i==="doubletap"&&(p.dt=a.timeStamp-l.tapTime,p.double=!0);return p}return R(n,[{key:"_subtractOrigin",value:function(i){var a=i.x,s=i.y;return this.pageX-=a,this.pageY-=s,this.clientX-=a,this.clientY-=s,this}},{key:"_addOrigin",value:function(i){var a=i.x,s=i.y;return this.pageX+=a,this.pageY+=s,this.clientX+=a,this.clientY+=s,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(pt),et={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=et,e.defaults.actions.pointerEvents=et.defaults,P(e.actions.phaselessTypes,et.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&bn(e),ce({interaction:n,pointer:i,event:a,eventTarget:s,type:"move"},t))},"interactions:down":function(e,t){(function(n,i){for(var a=n.interaction,s=n.pointer,c=n.event,l=n.eventTarget,u=n.pointerIndex,p=a.pointers[u].hold,d=O(l),f={interaction:a,pointer:s,event:c,eventTarget:l,type:"hold",targets:[],path:d,node:null},h=0;h<d.length;h++){var v=d[h];f.node=v,i.fire("pointerEvents:collect-targets",f)}if(f.targets.length){for(var g=1/0,m=0,y=f.targets;m<y.length;m++){var w=y[m].eventable.options.holdDuration;w<g&&(g=w)}p.duration=g,p.timeout=setTimeout(function(){ce({interaction:a,eventTarget:l,pointer:s,event:c,type:"hold"},i)},g)}})(e,t),ce(e,t)},"interactions:up":function(e,t){bn(e),ce(e,t),function(n,i){var a=n.interaction,s=n.pointer,c=n.event,l=n.eventTarget;a.pointerWasMoved||ce({interaction:a,eventTarget:l,pointer:s,event:c,type:"tap"},i)}(e,t)},"interactions:cancel":function(e,t){bn(e),ce(e,t)}},PointerEvent:be,fire:ce,collectEventTargets:ei,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ce(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget,c=e.type,l=e.targets,u=l===void 0?ei(e,t):l,p=new be(c,i,a,s,n,t.now());t.fire("pointerEvents:new",{pointerEvent:p});for(var d={interaction:n,pointer:i,event:a,eventTarget:s,targets:u,type:c,pointerEvent:p},f=0;f<u.length;f++){var h=u[f];for(var v in h.props||{})p[v]=h.props[v];var g=Be(h.eventable,h.node);if(p._subtractOrigin(g),p.eventable=h.eventable,p.currentTarget=h.node,h.eventable.fire(p),p._addOrigin(g),p.immediatePropagationStopped||p.propagationStopped&&f+1<u.length&&u[f+1].node!==p.currentTarget)break}if(t.fire("pointerEvents:fired",d),c==="tap"){var m=p.double?ce({interaction:n,pointer:i,event:a,eventTarget:s,type:"doubletap"},t):p;n.prevTap=m,n.tapTime=m.timeStamp}return p}function ei(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget,c=e.type,l=n.getPointerIndex(i),u=n.pointers[l];if(c==="tap"&&(n.pointerWasMoved||!u||u.downTarget!==s))return[];for(var p=O(s),d={interaction:n,pointer:i,event:a,eventTarget:s,type:c,path:p,targets:[],node:null},f=0;f<p.length;f++){var h=p[f];d.node=h,t.fire("pointerEvents:collect-targets",d)}return c==="hold"&&(d.targets=d.targets.filter(function(v){var g,m;return v.eventable.options.holdDuration===((g=n.pointers[l])==null||(m=g.hold)==null?void 0:m.duration)})),d.targets}function bn(e){var t=e.interaction,n=e.pointerIndex,i=t.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Oi=Object.freeze({__proto__:null,default:et});function Mi(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var Di={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(et);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Mi,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,i=e.pointerEvent,a=e.eventTarget,s=e.targets;if(i.type==="hold"&&s.length){var c=s[0].eventable.options.holdRepeatInterval;c<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:a,type:"hold",pointer:i,event:i},t)},c))}}})},Ii=Di,zi={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=function(i){return P(this.events.options,i),this};var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(i,a){var s=n.call(this,i,a);return s===this&&(this.events.options[i]=a),s}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,i=e.node,a=e.type,s=e.eventTarget;t.interactables.forEachMatch(i,function(c){var l=c.events,u=l.options;l.types[a]&&l.types[a].length&&c.testIgnoreAllow(u,i,s)&&n.push({node:i,eventable:l,props:{interactable:c}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,i=e.options;P(n.events.options,t.pointerEvents.defaults),P(n.events.options,i.pointerEvents||{})}}},Ai=zi,Ci={id:"pointer-events",install:function(e){e.usePlugin(Oi),e.usePlugin(Ii),e.usePlugin(Ai)}},Ri=Ci,o={id:"reflow",install:function(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(i,a,s){for(var c=i.getAllElements(),l=s.window.Promise,u=l?[]:null,p=function(){var f=c[d],h=i.getRect(f);if(!h)return 1;var v,g=We(s.interactions.list,function(w){return w.interacting()&&w.interactable===i&&w.element===f&&w.prepared.name===a.name});if(g)g.move(),u&&(v=g._reflowPromise||new l(function(w){g._reflowResolve=w}));else{var m=Re(h),y=function(w){return{coords:w,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:m.x,y:m.y},client:{x:m.x,y:m.y},timeStamp:s.now()});v=function(w,_,E,k,S){var T=w.interactions.new({pointerType:"reflow"}),L={interaction:T,event:S,pointer:S,eventTarget:E,phase:"reflow"};T.interactable=_,T.element=E,T.prevEvent=S,T.updatePointer(S,S,E,!0),ct(T.coords.delta),an(T.prepared,k),T._doPhase(L);var C=w.window,B=C.Promise,Q=B?new B(function(Z){T._reflowResolve=Z}):void 0;return T._reflowPromise=Q,T.start(k,_,E),T._interacting?(T.move(L),T.end(S)):(T.stop(),T._reflowResolve()),T.removePointer(S,S),Q}(s,i,f,a,y)}u&&u.push(v)},d=0;d<c.length&&!p();d++);return u&&l.all(u).then(function(){return i})}(this,n,e)}},listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),function(i,a){i.splice(i.indexOf(a),1)}(t.interactions.list,n))}}},r=o;if(K.use(Le),K.use(yt),K.use(Ri),K.use(Bn),K.use(Et),K.use(ci),K.use(Te),K.use(on),K.use(r),K.default=K,Y(X)==="object"&&X)try{X.exports=K}catch{}return K.default=K,K})}(wn,wn.exports)),wn.exports}var nr=tr();const Fi=Zi(nr),Yi=document.createElement("template");Yi.innerHTML=`
  <style>${Qi}</style>
  <div class="macintosh-window__wrapper">
    <div class="macintosh-window__window" aria-hidden="false" data-x="0" data-y="0" style="min-width: 300px;">
      <div class="macintosh-window__header">
        <div class="macintosh-window__background">
          <div class="macintosh-window__decor-line">
            <button class="macintosh-window__top-button macintosh-window__top-button--left">
              <div class="macintosh-window__inner-button"></div>
            </button>
          </div>
        </div>
        <div class="macintosh-window__middle-header"></div>
        <div class="macintosh-window__background">
          <div class="macintosh-window__decor-line">
            <button class="macintosh-window__top-button macintosh-window__top-button--right">
              <div class="macintosh-window__inner-button"></div>
            </button>
          </div>
        </div>
        <div class="macintosh-window__right-header-side"></div>
        <span class="macintosh-window__border macintosh-window__border--first"></span>
        <span class="macintosh-window__border macintosh-window__border--second"></span>
      </div>

      <div class="macintosh-window__main-content">
        <div class="macintosh-window__body" style="visibility: hidden;">
          <slot></slot>
        </div>
      </div>
    </div>
  </div>
`;class ir extends HTMLElement{shadow;position={x:0,y:0};resizeObserver;rootEl;headerEl;bodyEl;mainContentEl;leftMenuButtonEl;static get observedAttributes(){return["header","x","y","width","height","aria-hidden","drag-id"]}constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}disconnectedCallback(){this.resizeObserver?.disconnect()}attributeChangedCallback(){this.render()}render(){this.shadow.innerHTML="";const M=Yi.content.cloneNode(!0);this.shadow.appendChild(M);const j=this.getAttribute("data-header")??"",z=this.getAttribute("drag-id")??"0",Y=Number(this.getAttribute("x")??0),A=Number(this.getAttribute("y")??0),Ie=this.getAttribute("width")??"300px",R=this.getAttribute("aria-hidden")==="true",le=this.getAttribute("data-active")??"false";this.rootEl=this.shadow.querySelector(".macintosh-window__window"),this.headerEl=this.shadow.querySelector(".macintosh-window__header"),this.bodyEl=this.shadow.querySelector(".macintosh-window__body"),this.mainContentEl=this.shadow.querySelector(".macintosh-window__main-content"),this.leftMenuButtonEl=this.shadow.querySelector(".macintosh-window__top-button--left");const te=`macintosh-window-${z}`,J=`macintosh-window__header-${z}`,ue=`macintosh-window__body-${z}`,de=`macintosh-window__content-${z}`;this.rootEl&&(this.rootEl.id=te),this.headerEl&&(this.headerEl.id=J),this.bodyEl&&(this.bodyEl.id=ue),this.mainContentEl&&(this.mainContentEl.id=de),this.rootEl&&(this.rootEl.ariaHidden=String(R),this.rootEl.style.width=Ie,this.rootEl.style.minWidth=Ie,this.rootEl.dataset.x=String(Y),this.rootEl.dataset.y=String(A),this.rootEl.dataset.active=le,this.position.x=Y,this.position.y=A,this.rootEl.style.transform=`translate(${Y}px, ${A}px)`);const pe=this.shadow.querySelector(".macintosh-window__middle-header");pe&&(pe.textContent=j),setTimeout(()=>{this.bodyEl&&(this.bodyEl.style.visibility="visible")},500),this.setupResizeObserver(),this.setupGhostHandlers(J,te),this.setupDraggable(J,te)}setupResizeObserver(){this.resizeObserver?.disconnect(),!(!this.bodyEl||!this.headerEl)&&(this.resizeObserver=new ResizeObserver(M=>{for(const j of M){const z=j.contentRect.width;this.headerEl.style.width=`${z+19.5}px `}}),this.resizeObserver.observe(this.bodyEl))}setupDraggable(M,j){if(!this.rootEl)return;const z=this.shadow.getElementById(M);Fi(this.rootEl).draggable({allowFrom:z??void 0,modifiers:[Fi.modifiers.restrictRect({restriction:".mainWindow"})],listeners:{move:Y=>{this.position.x+=Y.dx,this.position.y+=Y.dy,this.rootEl.style.transform=`translate(${this.position.x}px, ${this.position.y}px)`,this.rootEl.dataset.x=String(this.position.x),this.rootEl.dataset.y=String(this.position.y)}}})}setupGhostHandlers(M,j){const z=this.shadow.getElementById(M),Y=this.shadow.getElementById(j);if(!z||!Y)return;const A=()=>{const R=document.createElement("div");R.className="macintosh-window__ghost",R.style.width=`${Y.clientWidth}px`,R.style.height=`${Y.clientHeight}px`,R.style.position="absolute",R.style.zIndex="1",R.style.transform=Y.style.transform,R.style.border="2px dotted rgb(166,166,166)",document.querySelector("main")?.appendChild(R)},Ie=()=>{document.querySelectorAll(".macintosh-window__ghost").forEach(R=>R.remove())};z.addEventListener("mousedown",A),z.addEventListener("mouseup",Ie);debugger;this.leftMenuButtonEl?.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("macintosh:window-close-button",{bubbles:!0,composed:!0,detail:{message:"button was clicked!!",timestamp:Date.now()}}))})}}customElements.define("macintosh-window",ir);const rr=":host{margin-left:2rem;margin-top:1rem}:host .macintosh-button{background:#fff;border:1px solid black;border-radius:7px;padding:3px 12px;font-family:Chicago;font-size:13px}:host .macintosh-button:active{background:#000;color:#fff}:host([data-type=primary]) .macintosh-button{border:1px solid black;box-shadow:0 0 0 2px #fff,0 0 0 6px #000}",Bi=document.createElement("template");Bi.innerHTML=`
  <style>${rr}</style>
  <button id="macintosh-button-component" class="macintosh-button">
    <slot/>
</button>
`;class or extends HTMLElement{shadow=null;constructor(){super(),this.attachShadow({mode:"open"}).appendChild(Bi.content.cloneNode(!0))}static get observedAttributes(){return["src"]}connectedCallback(){}}customElements.define("macintosh-button",or);const ar=":host{box-shadow:0 0 0 2px #ccccfb,0 0 0 2px #bbb,0 0 0 5px #000;min-width:400px;min-height:200px;max-height:400px;max-width:600px;background:#fff;border:1px solid black}:host([aria-hidden=true]){display:none}:host([aria-hidden=false]){display:block}.macintosh-dialog-box{display:flex;background:#fff;min-width:400px;min-height:200px;max-height:400px;max-width:600px;overflow:auto;width:100%;padding-left:20px;padding-right:20px;flex-direction:column}.macintosh-dialog-box__container{display:flex;justify-content:center;align-items:center;height:100%}.macintosh-dialog-box__icon-container{margin-right:15px}.macintosh-dialog-box__text-content{width:350px;overflow-wrap:break-word}.macintosh-dialog-box__footer{padding-bottom:10px}",Hi=document.createElement("template");Hi.innerHTML=`
  <style>${ar}</style>
  <div role="dialog" class="macintosh-dialog-box">
   <div class="macintosh-dialog-box__container">
    <div class="macintosh-dialog-box__icon-container">
        <slot name="icon"/>
    </div>
    <div class="macintosh-dialog-box__text-content">
         <slot></slot>
    </div>
   </div>

   <div class="macintosh-dialog-box__footer">
    <div class="macintosh-dialog-box__call-to-action">
        <slot name="callToAction"></slot>
    </div>
    </div>
  </div>
`;class sr extends HTMLElement{shadow;rootEl;bodyEl;leftBtn;static get observedAttributes(){return["data-header","width","height","aria-hidden","data-active"]}constructor(){super(),this.shadow=this.attachShadow({mode:"open"})}connectedCallback(){this.render()}disconnectedCallback(){}attributeChangedCallback(){this.applyAttributes()}render(){this.shadow.innerHTML="",this.shadow.appendChild(Hi.content.cloneNode(!0)),this.rootEl=this.shadow.querySelector(".macintosh-window__window"),this.bodyEl=this.shadow.querySelector(".macintosh-dialog-box__text-content"),this.iconEl=this.shadow.querySelector(".macintosh-dialog-box__icon-container"),this.applyAttributes()}applyAttributes(){if(!this.rootEl||!this.headerTextEl)return;const M=this.getAttribute("data-header")??"",j=this.getAttribute("width")??"300px",z=this.getAttribute("height"),Y=this.getAttribute("aria-hidden")==="true",A=this.getAttribute("data-active")??"false";this.headerTextEl.textContent=M,this.rootEl.style.width=j,this.rootEl.style.minWidth=j,this.rootEl.style.height=z??"",this.rootEl.ariaHidden=String(Y),this.rootEl.dataset.active=A}}customElements.define("macintosh-dialog-box",sr);(function(X,M){typeof $i=="object"&&typeof kt<"u"?kt.exports=M():typeof define=="function"&&define.amd?define(M):(X=typeof globalThis<"u"?globalThis:X||self).interact=M()})(void 0,function(){function X(o,r){var e=Object.keys(o);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(o);r&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),e.push.apply(e,t)}return e}function M(o){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?X(Object(e),!0).forEach(function(t){Ie(o,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach(function(t){Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(e,t))})}return o}function j(o){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j(o)}function z(o,r){if(!(o instanceof r))throw new TypeError("Cannot call a class as a function")}function Y(o,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(o,pe(t.key),t)}}function A(o,r,e){return r&&Y(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}function Ie(o,r,e){return(r=pe(r))in o?Object.defineProperty(o,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):o[r]=e,o}function R(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(r&&r.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),r&&te(o,r)}function le(o){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},le(o)}function te(o,r){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(o,r)}function J(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function ue(o){var r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var e,t=le(o);if(r){var n=le(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(i,a){if(a&&(typeof a=="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(i)}(this,e)}}function de(){return de=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,r,e){var t=function(i,a){for(;!Object.prototype.hasOwnProperty.call(i,a)&&(i=le(i))!==null;);return i}(o,r);if(t){var n=Object.getOwnPropertyDescriptor(t,r);return n.get?n.get.call(arguments.length<3?o:e):n.value}},de.apply(this,arguments)}function pe(o){var r=function(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o,"string");return typeof r=="symbol"?r:r+""}var tt=function(o){return!(!o||!o.Window)&&o instanceof o.Window},Nt=void 0,xe=void 0;function Gt(o){Nt=o;var r=o.document.createTextNode("");r.ownerDocument!==o.document&&typeof o.wrap=="function"&&o.wrap(r)===r&&(o=o.wrap(o)),xe=o}function N(o){return tt(o)?o:(o.ownerDocument||o).defaultView||xe.window}typeof window<"u"&&window&&Gt(window);var nt=function(o){return!!o&&j(o)==="object"},re=function(o){return typeof o=="function"},b={window:function(o){return o===xe||tt(o)},docFrag:function(o){return nt(o)&&o.nodeType===11},object:nt,func:re,number:function(o){return typeof o=="number"},bool:function(o){return typeof o=="boolean"},string:function(o){return typeof o=="string"},element:function(o){if(!o||j(o)!=="object")return!1;var r=N(o)||xe;return/object|function/.test(typeof Element>"u"?"undefined":j(Element))?o instanceof Element||o instanceof r.Element:o.nodeType===1&&typeof o.nodeName=="string"},plainObject:function(o){return nt(o)&&!!o.constructor&&/function Object\b/.test(o.constructor.toString())},array:function(o){return nt(o)&&o.length!==void 0&&re(o.splice)}};function Tt(o){var r=o.interaction;if(r.prepared.name==="drag"){var e=r.prepared.axis;e==="x"?(r.coords.cur.page.y=r.coords.start.page.y,r.coords.cur.client.y=r.coords.start.client.y,r.coords.velocity.client.y=0,r.coords.velocity.page.y=0):e==="y"&&(r.coords.cur.page.x=r.coords.start.page.x,r.coords.cur.client.x=r.coords.start.client.x,r.coords.velocity.client.x=0,r.coords.velocity.page.x=0)}}function x(o){var r=o.iEvent,e=o.interaction;if(e.prepared.name==="drag"){var t=e.prepared.axis;if(t==="x"||t==="y"){var n=t==="x"?"y":"x";r.page[n]=e.coords.start.page[n],r.client[n]=e.coords.start.client[n],r.delta[n]=0}}}var Ye={id:"actions/drag",install:function(o){var r=o.actions,e=o.Interactable,t=o.defaults;e.prototype.draggable=Ye.draggable,r.map.drag=Ye,r.methodDict.drag="draggable",t.actions.drag=Ye.defaults},listeners:{"interactions:before-action-move":Tt,"interactions:action-resume":Tt,"interactions:action-move":x,"auto-start:check":function(o){var r=o.interaction,e=o.interactable,t=o.buttons,n=e.options.drag;if(n&&n.enabled&&(!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||t&e.options.drag.mouseButtons))return o.action={name:"drag",axis:n.lockAxis==="start"?n.startAxis:n.lockAxis},!1}},draggable:function(o){return b.object(o)?(this.options.drag.enabled=o.enabled!==!1,this.setPerAction("drag",o),this.setOnEvents("drag",o),/^(xy|x|y|start)$/.test(o.lockAxis)&&(this.options.drag.lockAxis=o.lockAxis),/^(xy|x|y)$/.test(o.startAxis)&&(this.options.drag.startAxis=o.startAxis),this):b.bool(o)?(this.options.drag.enabled=o,this):this.options.drag},beforeMove:Tt,move:x,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(o){return o.search("drag")===0}},Ut=Ye,G={init:function(o){var r=o;G.document=r.document,G.DocumentFragment=r.DocumentFragment||ze,G.SVGElement=r.SVGElement||ze,G.SVGSVGElement=r.SVGSVGElement||ze,G.SVGElementInstance=r.SVGElementInstance||ze,G.Element=r.Element||ze,G.HTMLElement=r.HTMLElement||G.Element,G.Event=r.Event,G.Touch=r.Touch||ze,G.PointerEvent=r.PointerEvent||r.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ze(){}var F=G,$={init:function(o){var r=F.Element,e=o.navigator||{};$.supportsTouch="ontouchstart"in o||b.func(o.DocumentTouch)&&F.document instanceof o.DocumentTouch,$.supportsPointerEvent=e.pointerEnabled!==!1&&!!F.PointerEvent,$.isIOS=/iP(hone|od|ad)/.test(e.platform),$.isIOS7=/iP(hone|od|ad)/.test(e.platform)&&/OS 7[^\d]/.test(e.appVersion),$.isIe9=/MSIE 9/.test(e.userAgent),$.isOperaMobile=e.appName==="Opera"&&$.supportsTouch&&/Presto/.test(e.userAgent),$.prefixedMatchesSelector="matches"in r.prototype?"matches":"webkitMatchesSelector"in r.prototype?"webkitMatchesSelector":"mozMatchesSelector"in r.prototype?"mozMatchesSelector":"oMatchesSelector"in r.prototype?"oMatchesSelector":"msMatchesSelector",$.pEventTypes=$.supportsPointerEvent?F.PointerEvent===o.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,$.wheelEvent=F.document&&"onmousewheel"in F.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},q=$;function H(o,r){if(o.contains)return o.contains(r);for(;r;){if(r===o)return!0;r=r.parentNode}return!1}function ee(o,r){for(;b.element(o);){if(fe(o,r))return o;o=U(o)}return null}function U(o){var r=o.parentNode;if(b.docFrag(r)){for(;(r=r.host)&&b.docFrag(r););return r}return r}function fe(o,r){return xe!==Nt&&(r=r.replace(/\/deep\//g," ")),o[q.prefixedMatchesSelector](r)}var ne=function(o){return o.parentNode||o.host};function he(o,r){for(var e,t=[],n=o;(e=ne(n))&&n!==r&&e!==n.ownerDocument;)t.unshift(n),n=e;return t}function it(o,r,e){for(;b.element(o);){if(fe(o,r))return!0;if((o=U(o))===e)return fe(o,r)}return!1}function Kt(o){return o.correspondingUseElement||o}function rt(o){var r=o instanceof F.SVGElement?o.getBoundingClientRect():o.getClientRects()[0];return r&&{left:r.left,right:r.right,top:r.top,bottom:r.bottom,width:r.width||r.right-r.left,height:r.height||r.bottom-r.top}}function St(o){var r,e=rt(o);if(!q.isIOS7&&e){var t={x:(r=(r=N(o))||xe).scrollX||r.document.documentElement.scrollLeft,y:r.scrollY||r.document.documentElement.scrollTop};e.left+=t.x,e.right+=t.x,e.top+=t.y,e.bottom+=t.y}return e}function Pt(o){for(var r=[];o;)r.push(o),o=U(o);return r}function Ot(o){return!!b.string(o)&&(F.document.querySelector(o),!0)}function O(o,r){for(var e in r)o[e]=r[e];return o}function Jt(o,r,e){return o==="parent"?U(e):o==="self"?r.getRect(e):ee(e,o)}function P(o,r,e,t){var n=o;return b.string(n)?n=Jt(n,r,e):b.func(n)&&(n=n.apply(void 0,t)),b.element(n)&&(n=St(n)),n}function ot(o){return o&&{x:"x"in o?o.x:o.left,y:"y"in o?o.y:o.top}}function Ae(o){return!o||"x"in o&&"y"in o||((o=O({},o)).x=o.left||0,o.y=o.top||0,o.width=o.width||(o.right||0)-o.x,o.height=o.height||(o.bottom||0)-o.y),o}function Ce(o,r,e){o.left&&(r.left+=e.x),o.right&&(r.right+=e.x),o.top&&(r.top+=e.y),o.bottom&&(r.bottom+=e.y),r.width=r.right-r.left,r.height=r.bottom-r.top}function Re(o,r,e){var t=e&&o.options[e];return ot(P(t&&t.origin||o.options.origin,o,r,[o&&r]))||{x:0,y:0}}function oe(o,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(c){return!0},t=arguments.length>3?arguments[3]:void 0;if(t=t||{},b.string(o)&&o.search(" ")!==-1&&(o=Be(o)),b.array(o))return o.forEach(function(c){return oe(c,r,e,t)}),t;if(b.object(o)&&(r=o,o=""),b.func(r)&&e(o))t[o]=t[o]||[],t[o].push(r);else if(b.array(r))for(var n=0,i=r;n<i.length;n++){var a=i[n];oe(o,a,e,t)}else if(b.object(r))for(var s in r)oe(Be(s).map(function(c){return"".concat(o).concat(c)}),r[s],e,t);return t}function Be(o){return o.trim().split(/ +/)}var ie=function(o,r){return Math.sqrt(o*o+r*r)},_n=["webkit","moz"];function we(o,r){o.__set||(o.__set={});var e=function(n){if(_n.some(function(i){return n.indexOf(i)===0}))return 1;typeof o[n]!="function"&&n!=="__set"&&Object.defineProperty(o,n,{get:function(){return n in o.__set?o.__set[n]:o.__set[n]=r[n]},set:function(i){o.__set[n]=i},configurable:!0})};for(var t in r)e(t);return o}function Mt(o,r){o.page=o.page||{},o.page.x=r.page.x,o.page.y=r.page.y,o.client=o.client||{},o.client.x=r.client.x,o.client.y=r.client.y,o.timeStamp=r.timeStamp}function at(o){o.page.x=0,o.page.y=0,o.client.x=0,o.client.y=0}function st(o){return o instanceof F.Event||o instanceof F.Touch}function ct(o,r,e){return o=o||"page",(e=e||{}).x=r[o+"X"],e.y=r[o+"Y"],e}function Qt(o,r){return r=r||{x:0,y:0},q.isOperaMobile&&st(o)?(ct("screen",o,r),r.x+=window.scrollX,r.y+=window.scrollY):ct("page",o,r),r}function _e(o){return b.number(o.pointerId)?o.pointerId:o.identifier}function En(o,r,e){var t=r.length>1?kn(r):r[0];Qt(t,o.page),function(n,i){i=i||{},q.isOperaMobile&&st(n)?ct("screen",n,i):ct("client",n,i)}(t,o.client),o.timeStamp=e}function je(o){var r=[];return b.array(o)?(r[0]=o[0],r[1]=o[1]):o.type==="touchend"?o.touches.length===1?(r[0]=o.touches[0],r[1]=o.changedTouches[0]):o.touches.length===0&&(r[0]=o.changedTouches[0],r[1]=o.changedTouches[1]):(r[0]=o.touches[0],r[1]=o.touches[1]),r}function kn(o){for(var r={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},e=0;e<o.length;e++){var t=o[e];for(var n in r)r[n]+=t[n]}for(var i in r)r[i]/=o.length;return r}function lt(o){if(!o.length)return null;var r=je(o),e=Math.min(r[0].pageX,r[1].pageX),t=Math.min(r[0].pageY,r[1].pageY),n=Math.max(r[0].pageX,r[1].pageX),i=Math.max(r[0].pageY,r[1].pageY);return{x:e,y:t,left:e,top:t,right:n,bottom:i,width:n-e,height:i-t}}function Dt(o,r){var e=r+"X",t=r+"Y",n=je(o),i=n[0][e]-n[1][e],a=n[0][t]-n[1][t];return ie(i,a)}function ut(o,r){var e=r+"X",t=r+"Y",n=je(o),i=n[1][e]-n[0][e],a=n[1][t]-n[0][t];return 180*Math.atan2(a,i)/Math.PI}function It(o){return b.string(o.pointerType)?o.pointerType:b.number(o.pointerType)?[void 0,void 0,"touch","pen","mouse"][o.pointerType]:/touch/.test(o.type||"")||o instanceof F.Touch?"touch":"mouse"}function zt(o){var r=b.func(o.composedPath)?o.composedPath():o.path;return[Kt(r?r[0]:o.target),Kt(o.currentTarget)]}var dt=function(){function o(r){z(this,o),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=r}return A(o,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),o}();Object.defineProperty(dt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Zt=function(o,r){for(var e=0;e<r.length;e++){var t=r[e];o.push(t)}return o},pt=function(o){return Zt([],o)},He=function(o,r){for(var e=0;e<o.length;e++)if(r(o[e],e,o))return e;return-1},$e=function(o,r){return o[He(o,r)]},ae=function(o){R(e,o);var r=ue(e);function e(t,n,i){var a;z(this,e),(a=r.call(this,n._interaction)).dropzone=void 0,a.dragEvent=void 0,a.relatedTarget=void 0,a.draggable=void 0,a.propagationStopped=!1,a.immediatePropagationStopped=!1;var s=i==="dragleave"?t.prev:t.cur,c=s.element,l=s.dropzone;return a.type=i,a.target=c,a.currentTarget=c,a.dropzone=l,a.dragEvent=n,a.relatedTarget=n.target,a.draggable=n.interactable,a.timeStamp=n.timeStamp,a}return A(e,[{key:"reject",value:function(){var t=this,n=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&n.cur.dropzone===this.dropzone&&n.cur.element===this.target)if(n.prev.dropzone=this.dropzone,n.prev.element=this.target,n.rejected=!0,n.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var i=n.activeDrops,a=He(i,function(c){var l=c.dropzone,u=c.element;return l===t.dropzone&&u===t.target});n.activeDrops.splice(a,1);var s=new e(n,this.dragEvent,"dropdeactivate");s.dropzone=this.dropzone,s.target=this.target,this.dropzone.fire(s)}else this.dropzone.fire(new e(n,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),e}(dt);function We(o,r){for(var e=0,t=o.slice();e<t.length;e++){var n=t[e],i=n.dropzone,a=n.element;r.dropzone=i,r.target=a,i.fire(r),r.propagationStopped=r.immediatePropagationStopped=!1}}function Ee(o,r){for(var e=function(i,a){for(var s=[],c=0,l=i.interactables.list;c<l.length;c++){var u=l[c];if(u.options.drop.enabled){var p=u.options.drop.accept;if(!(b.element(p)&&p!==a||b.string(p)&&!fe(a,p)||b.func(p)&&!p({dropzone:u,draggableElement:a})))for(var d=0,f=u.getAllElements();d<f.length;d++){var h=f[d];h!==a&&s.push({dropzone:u,element:h,rect:u.getRect(h)})}}}return s}(o,r),t=0;t<e.length;t++){var n=e[t];n.rect=n.dropzone.getRect(n.element)}return e}function en(o,r,e){for(var t=o.dropState,n=o.interactable,i=o.element,a=[],s=0,c=t.activeDrops;s<c.length;s++){var l=c[s],u=l.dropzone,p=l.element,d=l.rect,f=u.dropCheck(r,e,n,i,p,d);a.push(f?p:null)}var h=function(v){for(var g,m,y,w=[],_=0;_<v.length;_++){var E=v[_],k=v[g];if(E&&_!==g)if(k){var S=ne(E),T=ne(k);if(S!==E.ownerDocument)if(T!==E.ownerDocument)if(S!==T){w=w.length?w:he(k);var L=void 0;if(k instanceof F.HTMLElement&&E instanceof F.SVGElement&&!(E instanceof F.SVGSVGElement)){if(E===T)continue;L=E.ownerSVGElement}else L=E;for(var C=he(L,k.ownerDocument),B=0;C[B]&&C[B]===w[B];)B++;var Q=[C[B-1],C[B],w[B]];if(Q[0])for(var Z=Q[0].lastChild;Z;){if(Z===Q[1]){g=_,w=C;break}if(Z===Q[2])break;Z=Z.previousSibling}}else y=k,(parseInt(N(m=E).getComputedStyle(m).zIndex,10)||0)>=(parseInt(N(y).getComputedStyle(y).zIndex,10)||0)&&(g=_);else g=_}else g=_}return g}(a);return t.activeDrops[h]||null}function ft(o,r,e){var t=o.dropState,n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return e.type==="dragstart"&&(n.activate=new ae(t,e,"dropactivate"),n.activate.target=null,n.activate.dropzone=null),e.type==="dragend"&&(n.deactivate=new ae(t,e,"dropdeactivate"),n.deactivate.target=null,n.deactivate.dropzone=null),t.rejected||(t.cur.element!==t.prev.element&&(t.prev.dropzone&&(n.leave=new ae(t,e,"dragleave"),e.dragLeave=n.leave.target=t.prev.element,e.prevDropzone=n.leave.dropzone=t.prev.dropzone),t.cur.dropzone&&(n.enter=new ae(t,e,"dragenter"),e.dragEnter=t.cur.element,e.dropzone=t.cur.dropzone)),e.type==="dragend"&&t.cur.dropzone&&(n.drop=new ae(t,e,"drop"),e.dropzone=t.cur.dropzone,e.relatedTarget=t.cur.element),e.type==="dragmove"&&t.cur.dropzone&&(n.move=new ae(t,e,"dropmove"),e.dropzone=t.cur.dropzone)),n}function At(o,r){var e=o.dropState,t=e.activeDrops,n=e.cur,i=e.prev;r.leave&&i.dropzone.fire(r.leave),r.enter&&n.dropzone.fire(r.enter),r.move&&n.dropzone.fire(r.move),r.drop&&n.dropzone.fire(r.drop),r.deactivate&&We(t,r.deactivate),e.prev.dropzone=n.dropzone,e.prev.element=n.element}function Ct(o,r){var e=o.interaction,t=o.iEvent,n=o.event;if(t.type==="dragmove"||t.type==="dragend"){var i=e.dropState;r.dynamicDrop&&(i.activeDrops=Ee(r,e.element));var a=t,s=en(e,a,n);i.rejected=i.rejected&&!!s&&s.dropzone===i.cur.dropzone&&s.element===i.cur.element,i.cur.dropzone=s&&s.dropzone,i.cur.element=s&&s.element,i.events=ft(e,0,a)}}var Rt={id:"actions/drop",install:function(o){var r=o.actions,e=o.interactStatic,t=o.Interactable,n=o.defaults;o.usePlugin(Ut),t.prototype.dropzone=function(i){return function(a,s){if(b.object(s)){if(a.options.drop.enabled=s.enabled!==!1,s.listeners){var c=oe(s.listeners),l=Object.keys(c).reduce(function(p,d){return p[/^(enter|leave)/.test(d)?"drag".concat(d):/^(activate|deactivate|move)/.test(d)?"drop".concat(d):d]=c[d],p},{}),u=a.options.drop.listeners;u&&a.off(u),a.on(l),a.options.drop.listeners=l}return b.func(s.ondrop)&&a.on("drop",s.ondrop),b.func(s.ondropactivate)&&a.on("dropactivate",s.ondropactivate),b.func(s.ondropdeactivate)&&a.on("dropdeactivate",s.ondropdeactivate),b.func(s.ondragenter)&&a.on("dragenter",s.ondragenter),b.func(s.ondragleave)&&a.on("dragleave",s.ondragleave),b.func(s.ondropmove)&&a.on("dropmove",s.ondropmove),/^(pointer|center)$/.test(s.overlap)?a.options.drop.overlap=s.overlap:b.number(s.overlap)&&(a.options.drop.overlap=Math.max(Math.min(1,s.overlap),0)),"accept"in s&&(a.options.drop.accept=s.accept),"checker"in s&&(a.options.drop.checker=s.checker),a}return b.bool(s)?(a.options.drop.enabled=s,a):a.options.drop}(this,i)},t.prototype.dropCheck=function(i,a,s,c,l,u){return function(p,d,f,h,v,g,m){var y=!1;if(!(m=m||p.getRect(g)))return!!p.options.drop.checker&&p.options.drop.checker(d,f,y,p,g,h,v);var w=p.options.drop.overlap;if(w==="pointer"){var _=Re(h,v,"drag"),E=Qt(d);E.x+=_.x,E.y+=_.y;var k=E.x>m.left&&E.x<m.right,S=E.y>m.top&&E.y<m.bottom;y=k&&S}var T=h.getRect(v);if(T&&w==="center"){var L=T.left+T.width/2,C=T.top+T.height/2;y=L>=m.left&&L<=m.right&&C>=m.top&&C<=m.bottom}return T&&b.number(w)&&(y=Math.max(0,Math.min(m.right,T.right)-Math.max(m.left,T.left))*Math.max(0,Math.min(m.bottom,T.bottom)-Math.max(m.top,T.top))/(T.width*T.height)>=w),p.options.drop.checker&&(y=p.options.drop.checker(d,f,y,p,g,h,v)),y}(this,i,a,s,c,l,u)},e.dynamicDrop=function(i){return b.bool(i)?(o.dynamicDrop=i,e):o.dynamicDrop},O(r.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),r.methodDict.drop="dropzone",o.dynamicDrop=!1,n.actions.drop=Rt.defaults},listeners:{"interactions:before-action-start":function(o){var r=o.interaction;r.prepared.name==="drag"&&(r.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(o,r){var e=o.interaction,t=(o.event,o.iEvent);if(e.prepared.name==="drag"){var n=e.dropState;n.activeDrops=[],n.events={},n.activeDrops=Ee(r,e.element),n.events=ft(e,0,t),n.events.activate&&(We(n.activeDrops,n.events.activate),r.fire("actions/drop:start",{interaction:e,dragEvent:t}))}},"interactions:action-move":Ct,"interactions:after-action-move":function(o,r){var e=o.interaction,t=o.iEvent;if(e.prepared.name==="drag"){var n=e.dropState;At(e,n.events),r.fire("actions/drop:move",{interaction:e,dragEvent:t}),n.events={}}},"interactions:action-end":function(o,r){if(o.interaction.prepared.name==="drag"){var e=o.interaction,t=o.iEvent;Ct(o,r),At(e,e.dropState.events),r.fire("actions/drop:end",{interaction:e,dragEvent:t})}},"interactions:stop":function(o){var r=o.interaction;if(r.prepared.name==="drag"){var e=r.dropState;e&&(e.activeDrops=null,e.events=null,e.cur.dropzone=null,e.cur.element=null,e.prev.dropzone=null,e.prev.element=null,e.rejected=!1)}}},getActiveDrops:Ee,getDrop:en,getDropEvents:ft,fireDropEvents:At,filterEventType:function(o){return o.search("drag")===0||o.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Tn=Rt;function jt(o){var r=o.interaction,e=o.iEvent,t=o.phase;if(r.prepared.name==="gesture"){var n=r.pointers.map(function(l){return l.pointer}),i=t==="start",a=t==="end",s=r.interactable.options.deltaSource;if(e.touches=[n[0],n[1]],i)e.distance=Dt(n,s),e.box=lt(n),e.scale=1,e.ds=0,e.angle=ut(n,s),e.da=0,r.gesture.startDistance=e.distance,r.gesture.startAngle=e.angle;else if(a||r.pointers.length<2){var c=r.prevEvent;e.distance=c.distance,e.box=c.box,e.scale=c.scale,e.ds=0,e.angle=c.angle,e.da=0}else e.distance=Dt(n,s),e.box=lt(n),e.scale=e.distance/r.gesture.startDistance,e.angle=ut(n,s),e.ds=e.scale-r.gesture.scale,e.da=e.angle-r.gesture.angle;r.gesture.distance=e.distance,r.gesture.angle=e.angle,b.number(e.scale)&&e.scale!==1/0&&!isNaN(e.scale)&&(r.gesture.scale=e.scale)}}var tn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(o){var r=o.actions,e=o.Interactable,t=o.defaults;e.prototype.gesturable=function(n){return b.object(n)?(this.options.gesture.enabled=n.enabled!==!1,this.setPerAction("gesture",n),this.setOnEvents("gesture",n),this):b.bool(n)?(this.options.gesture.enabled=n,this):this.options.gesture},r.map.gesture=tn,r.methodDict.gesture="gesturable",t.actions.gesture=tn.defaults},listeners:{"interactions:action-start":jt,"interactions:action-move":jt,"interactions:action-end":jt,"interactions:new":function(o){o.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(o){if(!(o.interaction.pointers.length<2)){var r=o.interactable.options.gesture;if(r&&r.enabled)return o.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(o){return o.search("gesture")===0}},nn=tn;function rn(o,r,e,t,n,i,a){if(!r)return!1;if(r===!0){var s=b.number(i.width)?i.width:i.right-i.left,c=b.number(i.height)?i.height:i.bottom-i.top;if(a=Math.min(a,Math.abs((o==="left"||o==="right"?s:c)/2)),s<0&&(o==="left"?o="right":o==="right"&&(o="left")),c<0&&(o==="top"?o="bottom":o==="bottom"&&(o="top")),o==="left"){var l=s>=0?i.left:i.right;return e.x<l+a}if(o==="top"){var u=c>=0?i.top:i.bottom;return e.y<u+a}if(o==="right")return e.x>(s>=0?i.right:i.left)-a;if(o==="bottom")return e.y>(c>=0?i.bottom:i.top)-a}return!!b.element(t)&&(b.element(r)?r===t:it(t,r,n))}function Sn(o){var r=o.iEvent,e=o.interaction;if(e.prepared.name==="resize"&&e.resizeAxes){var t=r;e.interactable.options.resize.square?(e.resizeAxes==="y"?t.delta.x=t.delta.y:t.delta.y=t.delta.x,t.axes="xy"):(t.axes=e.resizeAxes,e.resizeAxes==="x"?t.delta.y=0:e.resizeAxes==="y"&&(t.delta.x=0))}}var ve,ke,W={id:"actions/resize",before:["actions/drag"],install:function(o){var r=o.actions,e=o.browser,t=o.Interactable,n=o.defaults;W.cursors=function(i){return i.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(e),W.defaultMargin=e.supportsTouch||e.supportsPointerEvent?20:10,t.prototype.resizable=function(i){return function(a,s,c){return b.object(s)?(a.options.resize.enabled=s.enabled!==!1,a.setPerAction("resize",s),a.setOnEvents("resize",s),b.string(s.axis)&&/^x$|^y$|^xy$/.test(s.axis)?a.options.resize.axis=s.axis:s.axis===null&&(a.options.resize.axis=c.defaults.actions.resize.axis),b.bool(s.preserveAspectRatio)?a.options.resize.preserveAspectRatio=s.preserveAspectRatio:b.bool(s.square)&&(a.options.resize.square=s.square),a):b.bool(s)?(a.options.resize.enabled=s,a):a.options.resize}(this,i,o)},r.map.resize=W,r.methodDict.resize="resizable",n.actions.resize=W.defaults},listeners:{"interactions:new":function(o){o.interaction.resizeAxes="xy"},"interactions:action-start":function(o){(function(r){var e=r.iEvent,t=r.interaction;if(t.prepared.name==="resize"&&t.prepared.edges){var n=e,i=t.rect;t._rects={start:O({},i),corrected:O({},i),previous:O({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},n.edges=t.prepared.edges,n.rect=t._rects.corrected,n.deltaRect=t._rects.delta}})(o),Sn(o)},"interactions:action-move":function(o){(function(r){var e=r.iEvent,t=r.interaction;if(t.prepared.name==="resize"&&t.prepared.edges){var n=e,i=t.interactable.options.resize.invert,a=i==="reposition"||i==="negate",s=t.rect,c=t._rects,l=c.start,u=c.corrected,p=c.delta,d=c.previous;if(O(d,u),a){if(O(u,s),i==="reposition"){if(u.top>u.bottom){var f=u.top;u.top=u.bottom,u.bottom=f}if(u.left>u.right){var h=u.left;u.left=u.right,u.right=h}}}else u.top=Math.min(s.top,l.bottom),u.bottom=Math.max(s.bottom,l.top),u.left=Math.min(s.left,l.right),u.right=Math.max(s.right,l.left);for(var v in u.width=u.right-u.left,u.height=u.bottom-u.top,u)p[v]=u[v]-d[v];n.edges=t.prepared.edges,n.rect=u,n.deltaRect=p}})(o),Sn(o)},"interactions:action-end":function(o){var r=o.iEvent,e=o.interaction;if(e.prepared.name==="resize"&&e.prepared.edges){var t=r;t.edges=e.prepared.edges,t.rect=e._rects.corrected,t.deltaRect=e._rects.delta}},"auto-start:check":function(o){var r=o.interaction,e=o.interactable,t=o.element,n=o.rect,i=o.buttons;if(n){var a=O({},r.coords.cur.page),s=e.options.resize;if(s&&s.enabled&&(!r.pointerIsDown||!/mouse|pointer/.test(r.pointerType)||i&s.mouseButtons)){if(b.object(s.edges)){var c={left:!1,right:!1,top:!1,bottom:!1};for(var l in c)c[l]=rn(l,s.edges[l],a,r._latestPointer.eventTarget,t,n,s.margin||W.defaultMargin);c.left=c.left&&!c.right,c.top=c.top&&!c.bottom,(c.left||c.right||c.top||c.bottom)&&(o.action={name:"resize",edges:c})}else{var u=s.axis!=="y"&&a.x>n.right-W.defaultMargin,p=s.axis!=="x"&&a.y>n.bottom-W.defaultMargin;(u||p)&&(o.action={name:"resize",axes:(u?"x":"")+(p?"y":"")})}return!o.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(o){var r=o.edges,e=o.axis,t=o.name,n=W.cursors,i=null;if(e)i=n[t+e];else if(r){for(var a="",s=0,c=["top","bottom","left","right"];s<c.length;s++){var l=c[s];r[l]&&(a+=l)}i=n[a]}return i},filterEventType:function(o){return o.search("resize")===0},defaultMargin:null},Fe=W,ge={id:"actions",install:function(o){o.usePlugin(nn),o.usePlugin(Fe),o.usePlugin(Ut),o.usePlugin(Tn)}},Pn=0,Te={request:function(o){return ve(o)},cancel:function(o){return ke(o)},init:function(o){if(ve=o.requestAnimationFrame,ke=o.cancelAnimationFrame,!ve)for(var r=["ms","moz","webkit","o"],e=0;e<r.length;e++){var t=r[e];ve=o["".concat(t,"RequestAnimationFrame")],ke=o["".concat(t,"CancelAnimationFrame")]||o["".concat(t,"CancelRequestAnimationFrame")]}ve=ve&&ve.bind(o),ke=ke&&ke.bind(o),ve||(ve=function(n){var i=Date.now(),a=Math.max(0,16-(i-Pn)),s=o.setTimeout(function(){n(i+a)},a);return Pn=i+a,s},ke=function(n){return clearTimeout(n)})}},D={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(o){D.isScrolling=!0,Te.cancel(D.i),o.autoScroll=D,D.interaction=o,D.prevTime=D.now(),D.i=Te.request(D.scroll)},stop:function(){D.isScrolling=!1,D.interaction&&(D.interaction.autoScroll=null),Te.cancel(D.i)},scroll:function(){var o=D.interaction,r=o.interactable,e=o.element,t=o.prepared.name,n=r.options[t].autoScroll,i=me(n.container,r,e),a=D.now(),s=(a-D.prevTime)/1e3,c=n.speed*s;if(c>=1){var l={x:D.x*c,y:D.y*c};if(l.x||l.y){var u=I(i);b.window(i)?i.scrollBy(l.x,l.y):i&&(i.scrollLeft+=l.x,i.scrollTop+=l.y);var p=I(i),d={x:p.x-u.x,y:p.y-u.y};(d.x||d.y)&&r.fire({type:"autoscroll",target:e,interactable:r,delta:d,interaction:o,container:i})}D.prevTime=a}D.isScrolling&&(Te.cancel(D.i),D.i=Te.request(D.scroll))},check:function(o,r){var e;return(e=o.options[r].autoScroll)==null?void 0:e.enabled},onInteractionMove:function(o){var r=o.interaction,e=o.pointer;if(r.interacting()&&D.check(r.interactable,r.prepared.name))if(r.simulation)D.x=D.y=0;else{var t,n,i,a,s=r.interactable,c=r.element,l=r.prepared.name,u=s.options[l].autoScroll,p=me(u.container,s,c);if(b.window(p))a=e.clientX<D.margin,t=e.clientY<D.margin,n=e.clientX>p.innerWidth-D.margin,i=e.clientY>p.innerHeight-D.margin;else{var d=rt(p);a=e.clientX<d.left+D.margin,t=e.clientY<d.top+D.margin,n=e.clientX>d.right-D.margin,i=e.clientY>d.bottom-D.margin}D.x=n?1:a?-1:0,D.y=i?1:t?-1:0,D.isScrolling||(D.margin=u.margin,D.speed=u.speed,D.start(r))}}};function me(o,r,e){return(b.string(o)?Jt(o,r,e):o)||N(e)}function I(o){return b.window(o)&&(o=window.document.body),{x:o.scrollLeft,y:o.scrollTop}}var On={id:"auto-scroll",install:function(o){var r=o.defaults,e=o.actions;o.autoScroll=D,D.now=function(){return o.now()},e.phaselessTypes.autoscroll=!0,r.perAction.autoScroll=D.defaults},listeners:{"interactions:new":function(o){o.interaction.autoScroll=null},"interactions:destroy":function(o){o.interaction.autoScroll=null,D.stop(),D.interaction&&(D.interaction=null)},"interactions:stop":D.stop,"interactions:action-move":function(o){return D.onInteractionMove(o)}}},Mn=On;function ht(o,r){var e=!1;return function(){return e||(xe.console.warn(r),e=!0),o.apply(this,arguments)}}function on(o,r){return o.name=r.name,o.axis=r.axis,o.edges=r.edges,o}function vt(o){return b.bool(o)?(this.options.styleCursor=o,this):o===null?(delete this.options.styleCursor,this):this.options.styleCursor}function an(o){return b.func(o)?(this.options.actionChecker=o,this):o===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ni={id:"auto-start/interactableMethods",install:function(o){var r=o.Interactable;r.prototype.getAction=function(e,t,n,i){var a=function(s,c,l,u,p){var d=s.getRect(u),f=c.buttons||{0:1,1:4,3:8,4:16}[c.button],h={action:null,interactable:s,interaction:l,element:u,rect:d,buttons:f};return p.fire("auto-start:check",h),h.action}(this,t,n,i,o);return this.options.actionChecker?this.options.actionChecker(e,t,a,this,i,n):a},r.prototype.ignoreFrom=ht(function(e){return this._backCompatOption("ignoreFrom",e)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),r.prototype.allowFrom=ht(function(e){return this._backCompatOption("allowFrom",e)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),r.prototype.actionChecker=an,r.prototype.styleCursor=vt}};function Dn(o,r,e,t,n){return r.testIgnoreAllow(r.options[o.name],e,t)&&r.options[o.name].enabled&&gt(r,e,o,n)?o:null}function ii(o,r,e,t,n,i,a){for(var s=0,c=t.length;s<c;s++){var l=t[s],u=n[s],p=l.getAction(r,e,o,u);if(p){var d=Dn(p,l,u,i,a);if(d)return{action:d,interactable:l,element:u}}}return{action:null,interactable:null,element:null}}function sn(o,r,e,t,n){var i=[],a=[],s=t;function c(u){i.push(u),a.push(s)}for(;b.element(s);){i=[],a=[],n.interactables.forEachMatch(s,c);var l=ii(o,r,e,i,a,t,n);if(l.action&&!l.interactable.options[l.action.name].manualStart)return l;s=U(s)}return{action:null,interactable:null,element:null}}function In(o,r,e){var t=r.action,n=r.interactable,i=r.element;t=t||{name:null},o.interactable=n,o.element=i,on(o.prepared,t),o.rect=n&&t.name?n.getRect(i):null,ln(o,e),e.fire("autoStart:prepared",{interaction:o})}function gt(o,r,e,t){var n=o.options,i=n[e.name].max,a=n[e.name].maxPerElement,s=t.autoStart.maxInteractions,c=0,l=0,u=0;if(!(i&&a&&s))return!1;for(var p=0,d=t.interactions.list;p<d.length;p++){var f=d[p],h=f.prepared.name;if(f.interacting()&&(++c>=s||f.interactable===o&&((l+=h===e.name?1:0)>=i||f.element===r&&(u++,h===e.name&&u>=a))))return!1}return s>0}function cn(o,r){return b.number(o)?(r.autoStart.maxInteractions=o,this):r.autoStart.maxInteractions}function Ve(o,r,e){var t=e.autoStart.cursorElement;t&&t!==o&&(t.style.cursor=""),o.ownerDocument.documentElement.style.cursor=r,o.style.cursor=r,e.autoStart.cursorElement=r?o:null}function ln(o,r){var e=o.interactable,t=o.element,n=o.prepared;if(o.pointerType==="mouse"&&e&&e.options.styleCursor){var i="";if(n.name){var a=e.options[n.name].cursorChecker;i=b.func(a)?a(n,e,t,o._interacting):r.actions.map[n.name].getCursor(n)}Ve(o.element,i||"",r)}else r.autoStart.cursorElement&&Ve(r.autoStart.cursorElement,"",r)}var un={id:"auto-start/base",before:["actions"],install:function(o){var r=o.interactStatic,e=o.defaults;o.usePlugin(ni),e.base.actionChecker=null,e.base.styleCursor=!0,O(e.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),r.maxInteractions=function(t){return cn(t,o)},o.autoStart={maxInteractions:1/0,withinInteractionLimit:gt,cursorElement:null}},listeners:{"interactions:down":function(o,r){var e=o.interaction,t=o.pointer,n=o.event,i=o.eventTarget;e.interacting()||In(e,sn(e,t,n,i,r),r)},"interactions:move":function(o,r){(function(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget;n.pointerType!=="mouse"||n.pointerIsDown||n.interacting()||In(n,sn(n,i,a,s,t),t)})(o,r),function(e,t){var n=e.interaction;if(n.pointerIsDown&&!n.interacting()&&n.pointerWasMoved&&n.prepared.name){t.fire("autoStart:before-start",e);var i=n.interactable,a=n.prepared.name;a&&i&&(i.options[a].manualStart||!gt(i,n.element,n.prepared,t)?n.stop():(n.start(n.prepared,i,n.element),ln(n,t)))}}(o,r)},"interactions:stop":function(o,r){var e=o.interaction,t=e.interactable;t&&t.options.styleCursor&&Ve(e.element,"",r)}},maxInteractions:cn,withinInteractionLimit:gt,validateAction:Dn},Ft=un,ri={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(o,r){var e=o.interaction,t=o.eventTarget,n=o.dx,i=o.dy;if(e.prepared.name==="drag"){var a=Math.abs(n),s=Math.abs(i),c=e.interactable.options.drag,l=c.startAxis,u=a>s?"x":a<s?"y":"xy";if(e.prepared.axis=c.lockAxis==="start"?u[0]:c.lockAxis,u!=="xy"&&l!=="xy"&&l!==u){e.prepared.name=null;for(var p=t,d=function(h){if(h!==e.interactable){var v=e.interactable.options.drag;if(!v.manualStart&&h.testIgnoreAllow(v,p,t)){var g=h.getAction(e.downPointer,e.downEvent,e,p);if(g&&g.name==="drag"&&function(m,y){if(!y)return!1;var w=y.options.drag.startAxis;return m==="xy"||w==="xy"||w===m}(u,h)&&Ft.validateAction(g,h,p,t,r))return h}}};b.element(p);){var f=r.interactables.forEachMatch(p,d);if(f){e.prepared.name="drag",e.interactable=f,e.element=p;break}p=U(p)}}}}}};function mt(o){var r=o.prepared&&o.prepared.name;if(!r)return null;var e=o.interactable.options;return e[r].hold||e[r].delay}var oi={id:"auto-start/hold",install:function(o){var r=o.defaults;o.usePlugin(Ft),r.perAction.hold=0,r.perAction.delay=0},listeners:{"interactions:new":function(o){o.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(o){var r=o.interaction,e=mt(r);e>0&&(r.autoStartHoldTimer=setTimeout(function(){r.start(r.prepared,r.interactable,r.element)},e))},"interactions:move":function(o){var r=o.interaction,e=o.duplicate;r.autoStartHoldTimer&&r.pointerWasMoved&&!e&&(clearTimeout(r.autoStartHoldTimer),r.autoStartHoldTimer=null)},"autoStart:before-start":function(o){var r=o.interaction;mt(r)>0&&(r.prepared.name=null)}},getHoldDuration:mt},dn=oi,ai={id:"auto-start",install:function(o){o.usePlugin(Ft),o.usePlugin(dn),o.usePlugin(ri)}},si=function(o){return/^(always|never|auto)$/.test(o)?(this.options.preventDefault=o,this):b.bool(o)?(this.options.preventDefault=o?"always":"never",this):this.options.preventDefault};function ci(o){var r=o.interaction,e=o.event;r.interactable&&r.interactable.checkAndPreventDefault(e)}var zn={id:"core/interactablePreventDefault",install:function(o){var r=o.Interactable;r.prototype.preventDefault=si,r.prototype.checkAndPreventDefault=function(e){return function(t,n,i){var a=t.options.preventDefault;if(a!=="never")if(a!=="always"){if(n.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var s=N(i.target).document,c=n.getDocOptions(s);if(!c||!c.events||c.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||b.element(i.target)&&fe(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,o,e)},o.interactions.docEvents.push({type:"dragstart",listener:function(e){for(var t=0,n=o.interactions.list;t<n.length;t++){var i=n[t];if(i.element&&(i.element===e.target||H(i.element,e.target)))return void i.interactable.checkAndPreventDefault(e)}}})},listeners:["down","move","up","cancel"].reduce(function(o,r){return o["interactions:".concat(r)]=ci,o},{})};function Lt(o,r){if(r.phaselessTypes[o])return!0;for(var e in r.map)if(o.indexOf(e)===0&&o.substr(e.length)in r.phases)return!0;return!1}function Le(o){var r={};for(var e in o){var t=o[e];b.plainObject(t)?r[e]=Le(t):b.array(t)?r[e]=pt(t):r[e]=t}return r}var Ne=function(){function o(r){z(this,o),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=r,this.result=ye(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return A(o,[{key:"start",value:function(r,e){var t,n,i=r.phase,a=this.interaction,s=function(l){var u=l.interactable.options[l.prepared.name],p=u.modifiers;return p&&p.length?p:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(d){var f=u[d];return f&&f.enabled&&{options:f,methods:f._methods}}).filter(function(d){return!!d})}(a);this.prepareStates(s),this.startEdges=O({},a.edges),this.edges=O({},this.startEdges),this.startOffset=(t=a.rect,n=e,t?{left:n.x-t.left,top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var c=this.fillArg({phase:i,pageCoords:e,preEnd:!1});return this.result=ye(),this.startAll(c),this.result=this.setAll(c)}},{key:"fillArg",value:function(r){var e=this.interaction;return r.interaction=e,r.interactable=e.interactable,r.element=e.element,r.rect||(r.rect=e.rect),r.edges||(r.edges=this.startEdges),r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var e=0,t=this.states;e<t.length;e++){var n=t[e];n.methods.start&&(r.state=n,n.methods.start(r))}}},{key:"setAll",value:function(r){var e=r.phase,t=r.preEnd,n=r.skipModifiers,i=r.rect,a=r.edges;r.coords=O({},r.pageCoords),r.rect=O({},i),r.edges=O({},a);for(var s=n?this.states.slice(n):this.states,c=ye(r.coords,r.rect),l=0;l<s.length;l++){var u,p=s[l],d=p.options,f=O({},r.coords),h=null;(u=p.methods)!=null&&u.set&&this.shouldDo(d,t,e)&&(r.state=p,h=p.methods.set(r),Ce(r.edges,r.rect,{x:r.coords.x-f.x,y:r.coords.y-f.y})),c.eventProps.push(h)}O(this.edges,r.edges),c.delta.x=r.coords.x-r.pageCoords.x,c.delta.y=r.coords.y-r.pageCoords.y,c.rectDelta.left=r.rect.left-i.left,c.rectDelta.right=r.rect.right-i.right,c.rectDelta.top=r.rect.top-i.top,c.rectDelta.bottom=r.rect.bottom-i.bottom;var v=this.result.coords,g=this.result.rect;if(v&&g){var m=c.rect.left!==g.left||c.rect.right!==g.right||c.rect.top!==g.top||c.rect.bottom!==g.bottom;c.changed=m||v.x!==c.coords.x||v.y!==c.coords.y}return c}},{key:"applyToInteraction",value:function(r){var e=this.interaction,t=r.phase,n=e.coords.cur,i=e.coords.start,a=this.result,s=this.startDelta,c=a.delta;t==="start"&&O(this.startDelta,a.delta);for(var l=0,u=[[i,s],[n,c]];l<u.length;l++){var p=u[l],d=p[0],f=p[1];d.page.x+=f.x,d.page.y+=f.y,d.client.x+=f.x,d.client.y+=f.y}var h=this.result.rectDelta,v=r.rect||e.rect;v.left+=h.left,v.right+=h.right,v.top+=h.top,v.bottom+=h.bottom,v.width=v.right-v.left,v.height=v.bottom-v.top}},{key:"setAndApply",value:function(r){var e=this.interaction,t=r.phase,n=r.preEnd,i=r.skipModifiers,a=this.setAll(this.fillArg({preEnd:n,phase:t,pageCoords:r.modifiedCoords||e.coords.cur.page}));if(this.result=a,!a.changed&&(!i||i<this.states.length)&&e.interacting())return!1;if(r.modifiedCoords){var s=e.coords.cur.page,c={x:r.modifiedCoords.x-s.x,y:r.modifiedCoords.y-s.y};a.coords.x+=c.x,a.coords.y+=c.y,a.delta.x+=c.x,a.delta.y+=c.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var e=r.interaction,t=r.event,n=this.states;if(n&&n.length){for(var i=!1,a=0;a<n.length;a++){var s=n[a];r.state=s;var c=s.options,l=s.methods,u=l.beforeEnd&&l.beforeEnd(r);if(u)return this.endResult=u,!1;i=i||!i&&this.shouldDo(c,!0,r.phase,!0)}i&&e.move({event:t,preEnd:!0})}}},{key:"stop",value:function(r){var e=r.interaction;if(this.states&&this.states.length){var t=O({states:this.states,interactable:e.interactable,element:e.element,rect:null},r);this.fillArg(t);for(var n=0,i=this.states;n<i.length;n++){var a=i[n];t.state=a,a.methods.stop&&a.methods.stop(t)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var e=0;e<r.length;e++){var t=r[e],n=t.options,i=t.methods,a=t.name;this.states.push({options:n,methods:i,index:e,name:a})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var e=r.interaction,t=e.coords,n=e.rect,i=e.modification;if(i.result){for(var a=i.startDelta,s=i.result,c=s.delta,l=s.rectDelta,u=0,p=[[t.start,a],[t.cur,c]];u<p.length;u++){var d=p[u],f=d[0],h=d[1];f.page.x-=h.x,f.page.y-=h.y,f.client.x-=h.x,f.client.y-=h.y}n.left-=l.left,n.right-=l.right,n.top-=l.top,n.bottom-=l.bottom}}},{key:"shouldDo",value:function(r,e,t,n){return!(!r||r.enabled===!1||n&&!r.endOnly||r.endOnly&&!e||t==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.startEdges=r.startEdges,this.edges=r.edges,this.states=r.states.map(function(e){return Le(e)}),this.result=ye(O({},r.result.coords),O({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}]),o}();function ye(o,r){return{rect:r,coords:o,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function se(o,r){var e=o.defaults,t={start:o.start,set:o.set,beforeEnd:o.beforeEnd,stop:o.stop},n=function(i){var a=i||{};for(var s in a.enabled=a.enabled!==!1,e)s in a||(a[s]=e[s]);var c={options:a,methods:t,name:r,enable:function(){return a.enabled=!0,c},disable:function(){return a.enabled=!1,c}};return c};return r&&typeof r=="string"&&(n._defaults=e,n._methods=t),n}function Se(o){var r=o.iEvent,e=o.interaction.modification.result;e&&(r.modifiers=e.eventProps)}var Pe={id:"modifiers/base",before:["actions"],install:function(o){o.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(o){var r=o.interaction;r.modification=new Ne(r)},"interactions:before-action-start":function(o){var r=o.interaction,e=o.interaction.modification;e.start(o,r.coords.start.page),r.edges=e.edges,e.applyToInteraction(o)},"interactions:before-action-move":function(o){var r=o.interaction,e=r.modification,t=e.setAndApply(o);return r.edges=e.edges,t},"interactions:before-action-end":function(o){var r=o.interaction,e=r.modification,t=e.beforeEnd(o);return r.edges=e.startEdges,t},"interactions:action-start":Se,"interactions:action-move":Se,"interactions:action-end":Se,"interactions:after-action-start":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:after-action-move":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:stop":function(o){return o.interaction.modification.stop(o)}}},Ge=Pe,An={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},qt=function(o){R(e,o);var r=ue(e);function e(t,n,i,a,s,c,l){var u;z(this,e),(u=r.call(this,t)).relatedTarget=null,u.screenX=void 0,u.screenY=void 0,u.button=void 0,u.buttons=void 0,u.ctrlKey=void 0,u.shiftKey=void 0,u.altKey=void 0,u.metaKey=void 0,u.page=void 0,u.client=void 0,u.delta=void 0,u.rect=void 0,u.x0=void 0,u.y0=void 0,u.t0=void 0,u.dt=void 0,u.duration=void 0,u.clientX0=void 0,u.clientY0=void 0,u.velocity=void 0,u.speed=void 0,u.swipe=void 0,u.axes=void 0,u.preEnd=void 0,s=s||t.element;var p=t.interactable,d=(p&&p.options||An).deltaSource,f=Re(p,s,i),h=a==="start",v=a==="end",g=h?J(u):t.prevEvent,m=h?t.coords.start:v?{page:g.page,client:g.client,timeStamp:t.coords.cur.timeStamp}:t.coords.cur;return u.page=O({},m.page),u.client=O({},m.client),u.rect=O({},t.rect),u.timeStamp=m.timeStamp,v||(u.page.x-=f.x,u.page.y-=f.y,u.client.x-=f.x,u.client.y-=f.y),u.ctrlKey=n.ctrlKey,u.altKey=n.altKey,u.shiftKey=n.shiftKey,u.metaKey=n.metaKey,u.button=n.button,u.buttons=n.buttons,u.target=s,u.currentTarget=s,u.preEnd=c,u.type=l||i+(a||""),u.interactable=p,u.t0=h?t.pointers[t.pointers.length-1].downTime:g.t0,u.x0=t.coords.start.page.x-f.x,u.y0=t.coords.start.page.y-f.y,u.clientX0=t.coords.start.client.x-f.x,u.clientY0=t.coords.start.client.y-f.y,u.delta=h||v?{x:0,y:0}:{x:u[d].x-g[d].x,y:u[d].y-g[d].y},u.dt=t.coords.delta.timeStamp,u.duration=u.timeStamp-u.t0,u.velocity=O({},t.coords.velocity[d]),u.speed=ie(u.velocity.x,u.velocity.y),u.swipe=v||a==="inertiastart"?u.getSwipe():null,u}return A(e,[{key:"getSwipe",value:function(){var t=this._interaction;if(t.prevEvent.speed<600||this.timeStamp-t.prevEvent.timeStamp>150)return null;var n=180*Math.atan2(t.prevEvent.velocityY,t.prevEvent.velocityX)/Math.PI;n<0&&(n+=360);var i=112.5<=n&&n<247.5,a=202.5<=n&&n<337.5;return{up:a,down:!a&&22.5<=n&&n<157.5,left:i,right:!i&&(292.5<=n||n<67.5),angle:n,speed:t.prevEvent.speed,velocity:{x:t.prevEvent.velocityX,y:t.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(dt);Object.defineProperties(qt.prototype,{pageX:{get:function(){return this.page.x},set:function(o){this.page.x=o}},pageY:{get:function(){return this.page.y},set:function(o){this.page.y=o}},clientX:{get:function(){return this.client.x},set:function(o){this.client.x=o}},clientY:{get:function(){return this.client.y},set:function(o){this.client.y=o}},dx:{get:function(){return this.delta.x},set:function(o){this.delta.x=o}},dy:{get:function(){return this.delta.y},set:function(o){this.delta.y=o}},velocityX:{get:function(){return this.velocity.x},set:function(o){this.velocity.x=o}},velocityY:{get:function(){return this.velocity.y},set:function(o){this.velocity.y=o}}});var Cn=A(function o(r,e,t,n,i){z(this,o),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=r,this.pointer=e,this.event=t,this.downTime=n,this.downTarget=i}),pn=function(o){return o.interactable="",o.element="",o.prepared="",o.pointerIsDown="",o.pointerWasMoved="",o._proxy="",o}({}),Rn=function(o){return o.start="",o.move="",o.end="",o.stop="",o.interacting="",o}({}),li=0,jn=function(){function o(r){var e=this,t=r.pointerType,n=r.scopeFire;z(this,o),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=ht(function(u){this.move(u)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=li++,this._scopeFire=n,this.pointerType=t;var i=this;this._proxy={};var a=function(u){Object.defineProperty(e._proxy,u,{get:function(){return i[u]}})};for(var s in pn)a(s);var c=function(u){Object.defineProperty(e._proxy,u,{value:function(){return i[u].apply(i,arguments)}})};for(var l in Rn)c(l);this._scopeFire("interactions:new",{interaction:this})}return A(o,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,e,t){var n=this.updatePointer(r,e,t,!0),i=this.pointers[n];this._scopeFire("interactions:down",{pointer:r,event:e,eventTarget:t,pointerIndex:n,pointerInfo:i,type:"down",interaction:this})}},{key:"start",value:function(r,e,t){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!e.options[r.name].enabled)&&(on(this.prepared,r),this.interactable=e,this.element=t,this.rect=e.getRect(t),this.edges=this.prepared.edges?O({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,e,t){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,e,t,!1);var n,i,a=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(n=this.coords.cur.client.x-this.coords.start.client.x,i=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ie(n,i)>this.pointerMoveTolerance);var s,c,l,u=this.getPointerIndex(r),p={pointer:r,pointerIndex:u,pointerInfo:this.pointers[u],event:e,type:"move",eventTarget:t,dx:n,dy:i,duplicate:a,interaction:this};a||(s=this.coords.velocity,c=this.coords.delta,l=Math.max(c.timeStamp/1e3,.001),s.page.x=c.page.x/l,s.page.y=c.page.y/l,s.client.x=c.client.x/l,s.client.y=c.client.y/l,s.timeStamp=l),this._scopeFire("interactions:move",p),a||this.simulation||(this.interacting()&&(p.type=null,this.move(p)),this.pointerWasMoved&&Mt(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||at(this.coords.delta),(r=O({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,e,t,n){var i=this.getPointerIndex(r);i===-1&&(i=this.updatePointer(r,e,t,!1));var a=/cancel$/i.test(e.type)?"cancel":"up";this._scopeFire("interactions:".concat(a),{pointer:r,pointerIndex:i,pointerInfo:this.pointers[i],event:e,eventTarget:t,type:a,curEventTarget:n,interaction:this}),this.simulation||this.end(e),this.removePointer(r,e)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var e;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(e=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,e===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var e=_e(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:He(this.pointers,function(t){return t.id===e})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,e,t,n){var i,a,s,c=_e(r),l=this.getPointerIndex(r),u=this.pointers[l];return n=n!==!1&&(n||/(down|start)$/i.test(e.type)),u?u.pointer=r:(u=new Cn(c,r,e,null,null),l=this.pointers.length,this.pointers.push(u)),En(this.coords.cur,this.pointers.map(function(p){return p.pointer}),this._now()),i=this.coords.delta,a=this.coords.prev,s=this.coords.cur,i.page.x=s.page.x-a.page.x,i.page.y=s.page.y-a.page.y,i.client.x=s.client.x-a.client.x,i.client.y=s.client.y-a.client.y,i.timeStamp=s.timeStamp-a.timeStamp,n&&(this.pointerIsDown=!0,u.downTime=this.coords.cur.timeStamp,u.downTarget=t,we(this.downPointer,r),this.interacting()||(Mt(this.coords.start,this.coords.cur),Mt(this.coords.prev,this.coords.cur),this.downEvent=e,this.pointerWasMoved=!1)),this._updateLatestPointer(r,e,t),this._scopeFire("interactions:update-pointer",{pointer:r,event:e,eventTarget:t,down:n,pointerInfo:u,pointerIndex:l,interaction:this}),l}},{key:"removePointer",value:function(r,e){var t=this.getPointerIndex(r);if(t!==-1){var n=this.pointers[t];this._scopeFire("interactions:remove-pointer",{pointer:r,event:e,eventTarget:null,pointerIndex:t,pointerInfo:n,interaction:this}),this.pointers.splice(t,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,e,t){this._latestPointer.pointer=r,this._latestPointer.event=e,this._latestPointer.eventTarget=t}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,e,t,n){return new qt(this,r,this.prepared.name,e,this.element,t,n)}},{key:"_fireEvent",value:function(r){var e;(e=this.interactable)==null||e.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var e=r.event,t=r.phase,n=r.preEnd,i=r.type,a=this.rect;if(a&&t==="move"&&(Ce(this.edges,a,this.coords.delta[this.interactable.options.deltaSource]),a.width=a.right-a.left,a.height=a.bottom-a.top),this._scopeFire("interactions:before-action-".concat(t),r)===!1)return!1;var s=r.iEvent=this._createPreparedEvent(e,t,n,i);return this._scopeFire("interactions:action-".concat(t),r),t==="start"&&(this.prevEvent=s),this._fireEvent(s),this._scopeFire("interactions:after-action-".concat(t),r),!0}},{key:"_now",value:function(){return Date.now()}}]),o}();function Fn(o){Ln(o.interaction)}function Ln(o){if(!function(e){return!(!e.offset.pending.x&&!e.offset.pending.y)}(o))return!1;var r=o.offset.pending;return Xt(o.coords.cur,r),Xt(o.coords.delta,r),Ce(o.edges,o.rect,r),r.x=0,r.y=0,!0}function qn(o){var r=o.x,e=o.y;this.offset.pending.x+=r,this.offset.pending.y+=e,this.offset.total.x+=r,this.offset.total.y+=e}function Xt(o,r){var e=o.page,t=o.client,n=r.x,i=r.y;e.x+=n,e.y+=i,t.x+=n,t.y+=i}Rn.offsetBy="";var ui={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(o){o.Interaction.prototype.offsetBy=qn},listeners:{"interactions:new":function(o){o.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(o){return function(r){r.pointerIsDown&&(Xt(r.coords.cur,r.offset.total),r.offset.pending.x=0,r.offset.pending.y=0)}(o.interaction)},"interactions:before-action-start":Fn,"interactions:before-action-move":Fn,"interactions:before-action-end":function(o){var r=o.interaction;if(Ln(r))return r.move({offset:!0}),r.end(),!1},"interactions:stop":function(o){var r=o.interaction;r.offset.total.x=0,r.offset.total.y=0,r.offset.pending.x=0,r.offset.pending.y=0}}},Yt=ui,di=function(){function o(r){z(this,o),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=r}return A(o,[{key:"start",value:function(r){var e=this.interaction,t=yt(e);if(!t||!t.enabled)return!1;var n=e.coords.velocity.client,i=ie(n.x,n.y),a=this.modification||(this.modification=new Ne(e));if(a.copyFrom(e.modification),this.t0=e._now(),this.allowResume=t.allowResume,this.v0=i,this.currentOffset={x:0,y:0},this.startCoords=e.coords.cur.page,this.modifierArg=a.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-e.coords.cur.timeStamp<50&&i>t.minSpeed&&i>t.endSpeed)this.startInertia();else{if(a.result=a.setAll(this.modifierArg),!a.result.changed)return!1;this.startSmoothEnd()}return e.modification.result.rect=null,e.offsetBy(this.targetOffset),e._doPhase({interaction:e,event:r,phase:"inertiastart"}),e.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),e.modification.result.rect=null,this.active=!0,e.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,e=this.interaction.coords.velocity.client,t=yt(this.interaction),n=t.resistance,i=-Math.log(t.endSpeed/this.v0)/n;this.targetOffset={x:(e.x-i)/n,y:(e.y-i)/n},this.te=i,this.lambda_v0=n/this.v0,this.one_ve_v0=1-t.endSpeed/this.v0;var a=this.modification,s=this.modifierArg;s.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},a.result=a.setAll(s),a.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+a.result.delta.x,y:this.targetOffset.y+a.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var e=this;this.timeout=Te.request(function(){e.active&&r()})}},{key:"inertiaTick",value:function(){var r,e,t,n,i,a,s,c=this,l=this.interaction,u=yt(l).resistance,p=(l._now()-this.t0)/1e3;if(p<this.te){var d,f=1-(Math.exp(-u*p)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=0,e=0,t=this.targetOffset.x,n=this.targetOffset.y,i=this.modifiedOffset.x,a=this.modifiedOffset.y,d={x:bt(s=f,r,t,i),y:bt(s,e,n,a)}):d={x:this.targetOffset.x*f,y:this.targetOffset.y*f};var h={x:d.x-this.currentOffset.x,y:d.y-this.currentOffset.y};this.currentOffset.x+=h.x,this.currentOffset.y+=h.y,l.offsetBy(h),l.move(),this.onNextFrame(function(){return c.inertiaTick()})}else l.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,e=this.interaction,t=e._now()-this.t0,n=yt(e).smoothEndDuration;if(t<n){var i={x:Xn(t,0,this.targetOffset.x,n),y:Xn(t,0,this.targetOffset.y,n)},a={x:i.x-this.currentOffset.x,y:i.y-this.currentOffset.y};this.currentOffset.x+=a.x,this.currentOffset.y+=a.y,e.offsetBy(a),e.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else e.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var e=r.pointer,t=r.event,n=r.eventTarget,i=this.interaction;i.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),i.updatePointer(e,t,n,!0),i._doPhase({interaction:i,event:t,phase:"resume"}),Mt(i.coords.prev,i.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Te.cancel(this.timeout)}}]),o}();function yt(o){var r=o.interactable,e=o.prepared;return r&&r.options&&e.name&&r.options[e.name].inertia}var pi={id:"inertia",before:["modifiers","actions"],install:function(o){var r=o.defaults;o.usePlugin(Yt),o.usePlugin(Ge),o.actions.phases.inertiastart=!0,o.actions.phases.resume=!0,r.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(o){var r=o.interaction;r.inertia=new di(r)},"interactions:before-action-end":function(o){var r=o.interaction,e=o.event;return(!r._interacting||r.simulation||!r.inertia.start(e))&&null},"interactions:down":function(o){var r=o.interaction,e=o.eventTarget,t=r.inertia;if(t.active)for(var n=e;b.element(n);){if(n===r.element){t.resume(o);break}n=U(n)}},"interactions:stop":function(o){var r=o.interaction.inertia;r.active&&r.stop()},"interactions:before-action-resume":function(o){var r=o.interaction.modification;r.stop(o),r.start(o,o.interaction.coords.cur.page),r.applyToInteraction(o)},"interactions:before-action-inertiastart":function(o){return o.interaction.modification.setAndApply(o)},"interactions:action-resume":Se,"interactions:action-inertiastart":Se,"interactions:after-action-inertiastart":function(o){return o.interaction.modification.restoreInteractionCoords(o)},"interactions:after-action-resume":function(o){return o.interaction.modification.restoreInteractionCoords(o)}}};function bt(o,r,e,t){var n=1-o;return n*n*r+2*n*o*e+o*o*t}function Xn(o,r,e,t){return-e*(o/=t)*(o-2)+r}var Yn=pi;function fn(o,r){for(var e=0;e<r.length;e++){var t=r[e];if(o.immediatePropagationStopped)break;t(o)}}var Bn=function(){function o(r){z(this,o),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=O({},r||{})}return A(o,[{key:"fire",value:function(r){var e,t=this.global;(e=this.types[r.type])&&fn(r,e),!r.propagationStopped&&t&&(e=t[r.type])&&fn(r,e)}},{key:"on",value:function(r,e){var t=oe(r,e);for(r in t)this.types[r]=Zt(this.types[r]||[],t[r])}},{key:"off",value:function(r,e){var t=oe(r,e);for(r in t){var n=this.types[r];if(n&&n.length)for(var i=0,a=t[r];i<a.length;i++){var s=a[i],c=n.indexOf(s);c!==-1&&n.splice(c,1)}}}},{key:"getRect",value:function(r){return null}}]),o}(),Hn=function(){function o(r){z(this,o),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=r,we(this,r)}return A(o,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),o}();function Ue(o){return b.object(o)?{capture:!!o.capture,passive:!!o.passive}:{capture:!!o,passive:!1}}function Bt(o,r){return o===r||(typeof o=="boolean"?!!r.capture===o&&!r.passive:!!o.capture==!!r.capture&&!!o.passive==!!r.passive)}var xt={id:"events",install:function(o){var r,e=[],t={},n=[],i={add:a,remove:s,addDelegate:function(u,p,d,f,h){var v=Ue(h);if(!t[d]){t[d]=[];for(var g=0;g<n.length;g++){var m=n[g];a(m,d,c),a(m,d,l,!0)}}var y=t[d],w=$e(y,function(_){return _.selector===u&&_.context===p});w||(w={selector:u,context:p,listeners:[]},y.push(w)),w.listeners.push({func:f,options:v})},removeDelegate:function(u,p,d,f,h){var v,g=Ue(h),m=t[d],y=!1;if(m)for(v=m.length-1;v>=0;v--){var w=m[v];if(w.selector===u&&w.context===p){for(var _=w.listeners,E=_.length-1;E>=0;E--){var k=_[E];if(k.func===f&&Bt(k.options,g)){_.splice(E,1),_.length||(m.splice(v,1),s(p,d,c),s(p,d,l,!0)),y=!0;break}}if(y)break}}},delegateListener:c,delegateUseCapture:l,delegatedEvents:t,documents:n,targets:e,supportsOptions:!1,supportsPassive:!1};function a(u,p,d,f){if(u.addEventListener){var h=Ue(f),v=$e(e,function(g){return g.eventTarget===u});v||(v={eventTarget:u,events:{}},e.push(v)),v.events[p]||(v.events[p]=[]),$e(v.events[p],function(g){return g.func===d&&Bt(g.options,h)})||(u.addEventListener(p,d,i.supportsOptions?h:h.capture),v.events[p].push({func:d,options:h}))}}function s(u,p,d,f){if(u.addEventListener&&u.removeEventListener){var h=He(e,function(S){return S.eventTarget===u}),v=e[h];if(v&&v.events)if(p!=="all"){var g=!1,m=v.events[p];if(m){if(d==="all"){for(var y=m.length-1;y>=0;y--){var w=m[y];s(u,p,w.func,w.options)}return}for(var _=Ue(f),E=0;E<m.length;E++){var k=m[E];if(k.func===d&&Bt(k.options,_)){u.removeEventListener(p,d,i.supportsOptions?_:_.capture),m.splice(E,1),m.length===0&&(delete v.events[p],g=!0);break}}}g&&!Object.keys(v.events).length&&e.splice(h,1)}else for(p in v.events)v.events.hasOwnProperty(p)&&s(u,p,"all")}}function c(u,p){for(var d=Ue(p),f=new Hn(u),h=t[u.type],v=zt(u)[0],g=v;b.element(g);){for(var m=0;m<h.length;m++){var y=h[m],w=y.selector,_=y.context;if(fe(g,w)&&H(_,v)&&H(_,g)){var E=y.listeners;f.currentTarget=g;for(var k=0;k<E.length;k++){var S=E[k];Bt(S.options,d)&&S.func(f)}}}g=U(g)}}function l(u){return c(u,!0)}return(r=o.document)==null||r.createElement("div").addEventListener("test",null,{get capture(){return i.supportsOptions=!0},get passive(){return i.supportsPassive=!0}}),o.events=i,i}},Ke={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(o){for(var r=0,e=Ke.methodOrder;r<e.length;r++){var t=e[r],n=Ke[t](o);if(n)return n}return null},simulationResume:function(o){var r=o.pointerType,e=o.eventType,t=o.eventTarget,n=o.scope;if(!/down|start/i.test(e))return null;for(var i=0,a=n.interactions.list;i<a.length;i++){var s=a[i],c=t;if(s.simulation&&s.simulation.allowResume&&s.pointerType===r)for(;c;){if(c===s.element)return s;c=U(c)}}return null},mouseOrPen:function(o){var r,e=o.pointerId,t=o.pointerType,n=o.eventType,i=o.scope;if(t!=="mouse"&&t!=="pen")return null;for(var a=0,s=i.interactions.list;a<s.length;a++){var c=s[a];if(c.pointerType===t){if(c.simulation&&!$n(c,e))continue;if(c.interacting())return c;r||(r=c)}}if(r)return r;for(var l=0,u=i.interactions.list;l<u.length;l++){var p=u[l];if(!(p.pointerType!==t||/down/i.test(n)&&p.simulation))return p}return null},hasPointer:function(o){for(var r=o.pointerId,e=0,t=o.scope.interactions.list;e<t.length;e++){var n=t[e];if($n(n,r))return n}return null},idle:function(o){for(var r=o.pointerType,e=0,t=o.scope.interactions.list;e<t.length;e++){var n=t[e];if(n.pointers.length===1){var i=n.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(n.pointers.length>=2)continue;if(!n.interacting()&&r===n.pointerType)return n}return null}};function $n(o,r){return o.pointers.some(function(e){return e.id===r})}var hn=Ke,Ht=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Wn(o,r){return function(e){var t=r.interactions.list,n=It(e),i=zt(e),a=i[0],s=i[1],c=[];if(/^touch/.test(e.type)){r.prevTouchTime=r.now();for(var l=0,u=e.changedTouches;l<u.length;l++){var p=u[l],d={pointer:p,pointerId:_e(p),pointerType:n,eventType:e.type,eventTarget:a,curEventTarget:s,scope:r},f=$t(d);c.push([d.pointer,d.eventTarget,d.curEventTarget,f])}}else{var h=!1;if(!q.supportsPointerEvent&&/mouse/.test(e.type)){for(var v=0;v<t.length&&!h;v++)h=t[v].pointerType!=="mouse"&&t[v].pointerIsDown;h=h||r.now()-r.prevTouchTime<500||e.timeStamp===0}if(!h){var g={pointer:e,pointerId:_e(e),pointerType:n,eventType:e.type,curEventTarget:s,eventTarget:a,scope:r},m=$t(g);c.push([g.pointer,g.eventTarget,g.curEventTarget,m])}}for(var y=0;y<c.length;y++){var w=c[y],_=w[0],E=w[1],k=w[2];w[3][o](_,e,E,k)}}}function $t(o){var r=o.pointerType,e=o.scope,t={interaction:hn.search(o),searchDetails:o};return e.fire("interactions:find",t),t.interaction||e.interactions.new({pointerType:r})}function Wt(o,r){var e=o.doc,t=o.scope,n=o.options,i=t.interactions.docEvents,a=t.events,s=a[r];for(var c in t.browser.isIOS&&!n.events&&(n.events={passive:!1}),a.delegatedEvents)s(e,c,a.delegateListener),s(e,c,a.delegateUseCapture,!0);for(var l=n&&n.events,u=0;u<i.length;u++){var p=i[u];s(e,p.type,p.listener,l)}}var Vn={id:"core/interactions",install:function(o){for(var r={},e=0;e<Ht.length;e++){var t=Ht[e];r[t]=Wn(t,o)}var n,i=q.pEventTypes;function a(){for(var s=0,c=o.interactions.list;s<c.length;s++){var l=c[s];if(l.pointerIsDown&&l.pointerType==="touch"&&!l._interacting)for(var u=function(){var f=d[p];o.documents.some(function(h){return H(h.doc,f.downTarget)})||l.removePointer(f.pointer,f.event)},p=0,d=l.pointers;p<d.length;p++)u()}}(n=F.PointerEvent?[{type:i.down,listener:a},{type:i.down,listener:r.pointerDown},{type:i.move,listener:r.pointerMove},{type:i.up,listener:r.pointerUp},{type:i.cancel,listener:r.pointerUp}]:[{type:"mousedown",listener:r.pointerDown},{type:"mousemove",listener:r.pointerMove},{type:"mouseup",listener:r.pointerUp},{type:"touchstart",listener:a},{type:"touchstart",listener:r.pointerDown},{type:"touchmove",listener:r.pointerMove},{type:"touchend",listener:r.pointerUp},{type:"touchcancel",listener:r.pointerUp}]).push({type:"blur",listener:function(s){for(var c=0,l=o.interactions.list;c<l.length;c++)l[c].documentBlur(s)}}),o.prevTouchTime=0,o.Interaction=function(s){R(l,s);var c=ue(l);function l(){return z(this,l),c.apply(this,arguments)}return A(l,[{key:"pointerMoveTolerance",get:function(){return o.interactions.pointerMoveTolerance},set:function(u){o.interactions.pointerMoveTolerance=u}},{key:"_now",value:function(){return o.now()}}]),l}(jn),o.interactions={list:[],new:function(s){s.scopeFire=function(l,u){return o.fire(l,u)};var c=new o.Interaction(s);return o.interactions.list.push(c),c},listeners:r,docEvents:n,pointerMoveTolerance:1},o.usePlugin(zn)},listeners:{"scope:add-document":function(o){return Wt(o,"add")},"scope:remove-document":function(o){return Wt(o,"remove")},"interactable:unset":function(o,r){for(var e=o.interactable,t=r.interactions.list.length-1;t>=0;t--){var n=r.interactions.list[t];n.interactable===e&&(n.stop(),r.fire("interactions:destroy",{interaction:n}),n.destroy(),r.interactions.list.length>2&&r.interactions.list.splice(t,1))}}},onDocSignal:Wt,doOnInteractions:Wn,methodNames:Ht},vn=Vn,Oe=function(o){return o[o.On=0]="On",o[o.Off=1]="Off",o}(Oe||{}),fi=function(){function o(r,e,t,n){z(this,o),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Bn,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=e.actions,this.target=r,this._context=e.context||t,this._win=N(Ot(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=n,this.set(e)}return A(o,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,e){return b.func(e.onstart)&&this.on("".concat(r,"start"),e.onstart),b.func(e.onmove)&&this.on("".concat(r,"move"),e.onmove),b.func(e.onend)&&this.on("".concat(r,"end"),e.onend),b.func(e.oninertiastart)&&this.on("".concat(r,"inertiastart"),e.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,e,t){var n,i=this,a=(n=this._actions.map[r])==null?void 0:n.filterEventType,s=function(c){return(a==null||a(c))&&Lt(c,i._actions)};(b.array(e)||b.object(e))&&this._onOff(Oe.Off,r,e,void 0,s),(b.array(t)||b.object(t))&&this._onOff(Oe.On,r,t,void 0,s)}},{key:"setPerAction",value:function(r,e){var t=this._defaults;for(var n in e){var i=n,a=this.options[r],s=e[i];i==="listeners"&&this.updatePerActionListeners(r,a.listeners,s),b.array(s)?a[i]=pt(s):b.plainObject(s)?(a[i]=O(a[i]||{},Le(s)),b.object(t.perAction[i])&&"enabled"in t.perAction[i]&&(a[i].enabled=s.enabled!==!1)):b.bool(s)&&b.object(t.perAction[i])?a[i].enabled=s:a[i]=s}}},{key:"getRect",value:function(r){return r=r||(b.element(this.target)?this.target:null),b.string(this.target)&&(r=r||this._context.querySelector(this.target)),St(r)}},{key:"rectChecker",value:function(r){var e=this;return b.func(r)?(this.getRect=function(t){var n=O({},r.apply(e,t));return"width"in n||(n.width=n.right-n.left,n.height=n.bottom-n.top),n},this):r===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(r,e){if(Ot(e)||b.object(e)){for(var t in this.options[r]=e,this._actions.map)this.options[t][r]=e;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var r=this.target;return b.string(r)?Array.from(this._context.querySelectorAll(r)):b.func(r)&&r.getAllElements?r.getAllElements():b.element(r)?[r]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||H(this._context,r)}},{key:"testIgnoreAllow",value:function(r,e,t){return!this.testIgnore(r.ignoreFrom,e,t)&&this.testAllow(r.allowFrom,e,t)}},{key:"testAllow",value:function(r,e,t){return!r||!!b.element(t)&&(b.string(r)?it(t,r,e):!!b.element(r)&&H(r,t))}},{key:"testIgnore",value:function(r,e,t){return!(!r||!b.element(t))&&(b.string(r)?it(t,r,e):!!b.element(r)&&H(r,t))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,e,t,n,i){b.object(e)&&!b.array(e)&&(n=t,t=null);var a=oe(e,t,i);for(var s in a){s==="wheel"&&(s=q.wheelEvent);for(var c=0,l=a[s];c<l.length;c++){var u=l[c];Lt(s,this._actions)?this.events[r===Oe.On?"on":"off"](s,u):b.string(this.target)?this._scopeEvents[r===Oe.On?"addDelegate":"removeDelegate"](this.target,this._context,s,u,n):this._scopeEvents[r===Oe.On?"add":"remove"](this.target,s,u,n)}}return this}},{key:"on",value:function(r,e,t){return this._onOff(Oe.On,r,e,t)}},{key:"off",value:function(r,e,t){return this._onOff(Oe.Off,r,e,t)}},{key:"set",value:function(r){var e=this._defaults;for(var t in b.object(r)||(r={}),this.options=Le(e.base),this._actions.methodDict){var n=t,i=this._actions.methodDict[n];this.options[n]={},this.setPerAction(n,O(O({},e.perAction),e.actions[n])),this[i](r[n])}for(var a in r)a!=="getRect"?b.func(this[a])&&this[a](r[a]):this.rectChecker(r.getRect);return this}},{key:"unset",value:function(){if(b.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var e=this._scopeEvents.delegatedEvents[r],t=e.length-1;t>=0;t--){var n=e[t],i=n.selector,a=n.context,s=n.listeners;i===this.target&&a===this._context&&e.splice(t,1);for(var c=s.length-1;c>=0;c--)this._scopeEvents.removeDelegate(this.target,this._context,r,s[c][0],s[c][1])}else this._scopeEvents.remove(this.target,"all")}}]),o}(),Me=function(){function o(r){var e=this;z(this,o),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=r,r.addListeners({"interactable:unset":function(t){var n=t.interactable,i=n.target,a=b.string(i)?e.selectorMap[i]:i[e.scope.id],s=He(a,function(c){return c===n});a.splice(s,1)}})}return A(o,[{key:"new",value:function(r,e){e=O(e||{},{actions:this.scope.actions});var t=new this.scope.Interactable(r,e,this.scope.document,this.scope.events);return this.scope.addDocument(t._doc),this.list.push(t),b.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(t)):(t.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(t)),this.scope.fire("interactable:new",{target:r,options:e,interactable:t,win:this.scope._win}),t}},{key:"getExisting",value:function(r,e){var t=e&&e.context||this.scope.document,n=b.string(r),i=n?this.selectorMap[r]:r[this.scope.id];if(i)return $e(i,function(a){return a._context===t&&(n||a.inContext(r))})}},{key:"forEachMatch",value:function(r,e){for(var t=0,n=this.list;t<n.length;t++){var i=n[t],a=void 0;if((b.string(i.target)?b.element(r)&&fe(r,i.target):r===i.target)&&i.inContext(r)&&(a=e(i)),a!==void 0)return a}}}]),o}(),hi=function(){function o(){var r=this;z(this,o),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=q,this.defaults=Le(An),this.Eventable=Bn,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(t){var n=function i(a,s){var c=t.interactables.getExisting(a,s);return c||((c=t.interactables.new(a,s)).events.global=i.globalEvents),c};return n.getPointerAverage=kn,n.getTouchBBox=lt,n.getTouchDistance=Dt,n.getTouchAngle=ut,n.getElementRect=St,n.getElementClientRect=rt,n.matchesSelector=fe,n.closest=ee,n.globalEvents={},n.version="1.10.27",n.scope=t,n.use=function(i,a){return this.scope.usePlugin(i,a),this},n.isSet=function(i,a){return!!this.scope.interactables.get(i,a&&a.context)},n.on=ht(function(i,a,s){if(b.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),b.array(i)){for(var c=0,l=i;c<l.length;c++){var u=l[c];this.on(u,a,s)}return this}if(b.object(i)){for(var p in i)this.on(p,i[p],a);return this}return Lt(i,this.scope.actions)?this.globalEvents[i]?this.globalEvents[i].push(a):this.globalEvents[i]=[a]:this.scope.events.add(this.scope.document,i,a,{options:s}),this},"The interact.on() method is being deprecated"),n.off=ht(function(i,a,s){if(b.string(i)&&i.search(" ")!==-1&&(i=i.trim().split(/ +/)),b.array(i)){for(var c=0,l=i;c<l.length;c++){var u=l[c];this.off(u,a,s)}return this}if(b.object(i)){for(var p in i)this.off(p,i[p],a);return this}var d;return Lt(i,this.scope.actions)?i in this.globalEvents&&(d=this.globalEvents[i].indexOf(a))!==-1&&this.globalEvents[i].splice(d,1):this.scope.events.remove(this.scope.document,i,a,s),this},"The interact.off() method is being deprecated"),n.debug=function(){return this.scope},n.supportsTouch=function(){return q.supportsTouch},n.supportsPointerEvent=function(){return q.supportsPointerEvent},n.stop=function(){for(var i=0,a=this.scope.interactions.list;i<a.length;i++)a[i].stop();return this},n.pointerMoveTolerance=function(i){return b.number(i)?(this.scope.interactions.pointerMoveTolerance=i,this):this.scope.interactions.pointerMoveTolerance},n.addDocument=function(i,a){this.scope.addDocument(i,a)},n.removeDocument=function(i){this.scope.removeDocument(i)},n}(this),this.InteractEvent=qt,this.Interactable=void 0,this.interactables=new Me(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(t){return r.removeDocument(t.target)};var e=this;this.Interactable=function(t){R(i,t);var n=ue(i);function i(){return z(this,i),n.apply(this,arguments)}return A(i,[{key:"_defaults",get:function(){return e.defaults}},{key:"set",value:function(a){return de(le(i.prototype),"set",this).call(this,a),e.fire("interactable:set",{options:a,interactable:this}),this}},{key:"unset",value:function(){de(le(i.prototype),"unset",this).call(this);var a=e.interactables.list.indexOf(this);a<0||(e.interactables.list.splice(a,1),e.fire("interactable:unset",{interactable:this}))}}]),i}(fi)}return A(o,[{key:"addListeners",value:function(r,e){this.listenerMaps.push({id:e,map:r})}},{key:"fire",value:function(r,e){for(var t=0,n=this.listenerMaps;t<n.length;t++){var i=n[t].map[r];if(i&&i(e,this,r)===!1)return!1}}},{key:"init",value:function(r){return this.isInitialized?this:function(e,t){return e.isInitialized=!0,b.window(t)&&Gt(t),F.init(t),q.init(t),Te.init(t),e.window=t,e.document=t.document,e.usePlugin(vn),e.usePlugin(xt),e}(this,r)}},{key:"pluginIsInstalled",value:function(r){var e=r.id;return e?!!this._plugins.map[e]:this._plugins.list.indexOf(r)!==-1}},{key:"usePlugin",value:function(r,e){if(!this.isInitialized)return this;if(this.pluginIsInstalled(r))return this;if(r.id&&(this._plugins.map[r.id]=r),this._plugins.list.push(r),r.install&&r.install(this,e),r.listeners&&r.before){for(var t=0,n=this.listenerMaps.length,i=r.before.reduce(function(s,c){return s[c]=!0,s[Nn(c)]=!0,s},{});t<n;t++){var a=this.listenerMaps[t].id;if(a&&(i[a]||i[Nn(a)]))break}this.listenerMaps.splice(t,0,{id:r.id,map:r.listeners})}else r.listeners&&this.listenerMaps.push({id:r.id,map:r.listeners});return this}},{key:"addDocument",value:function(r,e){if(this.getDocIndex(r)!==-1)return!1;var t=N(r);e=e?O({},e):{},this.documents.push({doc:r,options:e}),this.events.documents.push(r),r!==this.document&&this.events.add(t,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:r,window:t,scope:this,options:e})}},{key:"removeDocument",value:function(r){var e=this.getDocIndex(r),t=N(r),n=this.documents[e].options;this.events.remove(t,"unload",this.onWindowUnload),this.documents.splice(e,1),this.events.documents.splice(e,1),this.fire("scope:remove-document",{doc:r,window:t,scope:this,options:n})}},{key:"getDocIndex",value:function(r){for(var e=0;e<this.documents.length;e++)if(this.documents[e].doc===r)return e;return-1}},{key:"getDocOptions",value:function(r){var e=this.getDocIndex(r);return e===-1?null:this.documents[e].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),o}();function Nn(o){return o&&o.replace(/\/.*$/,"")}var Gn=new hi,V=Gn.interactStatic,Un=typeof globalThis<"u"?globalThis:window;Gn.init(Un);var K=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(o){var r=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(t){var n=t[0],i=t[1];return n in o||i in o}),e=function(t,n){for(var i=o.range,a=o.limits,s=a===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:a,c=o.offset,l=c===void 0?{x:0,y:0}:c,u={range:i,grid:o,x:null,y:null},p=0;p<r.length;p++){var d=r[p],f=d[0],h=d[1],v=Math.round((t-l.x)/o[f]),g=Math.round((n-l.y)/o[h]);u[f]=Math.max(s.left,Math.min(s.right,v*o[f]+l.x)),u[h]=Math.max(s.top,Math.min(s.bottom,g*o[h]+l.y))}return u};return e.grid=o,e.coordFields=r,e}}),vi={id:"snappers",install:function(o){var r=o.interactStatic;r.snappers=O(r.snappers||{},K),r.createSnapGrid=r.snappers.grid}},gi=vi,mi={start:function(o){var r=o.state,e=o.rect,t=o.edges,n=o.pageCoords,i=r.options,a=i.ratio,s=i.enabled,c=r.options,l=c.equalDelta,u=c.modifiers;a==="preserve"&&(a=e.width/e.height),r.startCoords=O({},n),r.startRect=O({},e),r.ratio=a,r.equalDelta=l;var p=r.linkedEdges={top:t.top||t.left&&!t.bottom,left:t.left||t.top&&!t.right,bottom:t.bottom||t.right&&!t.top,right:t.right||t.bottom&&!t.left};if(r.xIsPrimaryAxis=!(!t.left&&!t.right),r.equalDelta){var d=(p.left?1:-1)*(p.top?1:-1);r.edgeSign={x:d,y:d}}else r.edgeSign={x:p.left?-1:1,y:p.top?-1:1};if(s!==!1&&O(t,p),u!=null&&u.length){var f=new Ne(o.interaction);f.copyFrom(o.interaction.modification),f.prepareStates(u),r.subModification=f,f.startAll(M({},o))}},set:function(o){var r=o.state,e=o.rect,t=o.coords,n=r.linkedEdges,i=O({},t),a=r.equalDelta?yi:bi;if(O(o.edges,n),a(r,r.xIsPrimaryAxis,t,e),!r.subModification)return null;var s=O({},e);Ce(n,s,{x:t.x-i.x,y:t.y-i.y});var c=r.subModification.setAll(M(M({},o),{},{rect:s,edges:n,pageCoords:t,prevCoords:t,prevRect:s})),l=c.delta;return c.changed&&(a(r,Math.abs(l.x)>Math.abs(l.y),c.coords,c.rect),O(t,c.coords)),c.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function yi(o,r,e){var t=o.startCoords,n=o.edgeSign;r?e.y=t.y+(e.x-t.x)*n.y:e.x=t.x+(e.y-t.y)*n.x}function bi(o,r,e,t){var n=o.startRect,i=o.startCoords,a=o.ratio,s=o.edgeSign;if(r){var c=t.width/a;e.y=i.y+(c-n.height)*s.y}else{var l=t.height*a;e.x=i.x+(l-n.width)*s.x}}var xi=se(mi,"aspectRatio"),Kn=function(){};Kn._defaults={};var Vt=Kn;function De(o,r,e){return b.func(o)?P(o,r.interactable,r.element,[e.x,e.y,r]):P(o,r.interactable,r.element)}var qe={start:function(o){var r=o.rect,e=o.startOffset,t=o.state,n=o.interaction,i=o.pageCoords,a=t.options,s=a.elementRect,c=O({left:0,top:0,right:0,bottom:0},a.offset||{});if(r&&s){var l=De(a.restriction,n,i);if(l){var u=l.right-l.left-r.width,p=l.bottom-l.top-r.height;u<0&&(c.left+=u,c.right+=u),p<0&&(c.top+=p,c.bottom+=p)}c.left+=e.left-r.width*s.left,c.top+=e.top-r.height*s.top,c.right+=e.right-r.width*(1-s.right),c.bottom+=e.bottom-r.height*(1-s.bottom)}t.offset=c},set:function(o){var r=o.coords,e=o.interaction,t=o.state,n=t.options,i=t.offset,a=De(n.restriction,e,r);if(a){var s=function(c){return!c||"left"in c&&"top"in c||((c=O({},c)).left=c.x||0,c.top=c.y||0,c.right=c.right||c.left+c.width,c.bottom=c.bottom||c.top+c.height),c}(a);r.x=Math.max(Math.min(s.right-i.right,r.x),s.left+i.left),r.y=Math.max(Math.min(s.bottom-i.bottom,r.y),s.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Xe=se(qe,"restrict"),wt={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Jn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function gn(o,r){for(var e=0,t=["top","left","bottom","right"];e<t.length;e++){var n=t[e];n in o||(o[n]=r[n])}return o}var Je={noInner:wt,noOuter:Jn,start:function(o){var r,e=o.interaction,t=o.startOffset,n=o.state,i=n.options;i&&(r=ot(De(i.offset,e,e.coords.start.page))),r=r||{x:0,y:0},n.offset={top:r.y+t.top,left:r.x+t.left,bottom:r.y-t.bottom,right:r.x-t.right}},set:function(o){var r=o.coords,e=o.edges,t=o.interaction,n=o.state,i=n.offset,a=n.options;if(e){var s=O({},r),c=De(a.inner,t,s)||{},l=De(a.outer,t,s)||{};gn(c,wt),gn(l,Jn),e.top?r.y=Math.min(Math.max(l.top+i.top,s.y),c.top+i.top):e.bottom&&(r.y=Math.max(Math.min(l.bottom+i.bottom,s.y),c.bottom+i.bottom)),e.left?r.x=Math.min(Math.max(l.left+i.left,s.x),c.left+i.left):e.right&&(r.x=Math.max(Math.min(l.right+i.right,s.x),c.right+i.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Qn=se(Je,"restrictEdges"),_t=O({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(o){}},qe.defaults),wi=se({start:qe.start,set:qe.set,defaults:_t},"restrictRect"),_i={width:-1/0,height:-1/0},Ei={width:1/0,height:1/0},ki=se({start:function(o){return Je.start(o)},set:function(o){var r=o.interaction,e=o.state,t=o.rect,n=o.edges,i=e.options;if(n){var a=Ae(De(i.min,r,o.coords))||_i,s=Ae(De(i.max,r,o.coords))||Ei;e.options={endOnly:i.endOnly,inner:O({},Je.noInner),outer:O({},Je.noOuter)},n.top?(e.options.inner.top=t.bottom-a.height,e.options.outer.top=t.bottom-s.height):n.bottom&&(e.options.inner.bottom=t.top+a.height,e.options.outer.bottom=t.top+s.height),n.left?(e.options.inner.left=t.right-a.width,e.options.outer.left=t.right-s.width):n.right&&(e.options.inner.right=t.left+a.width,e.options.outer.right=t.left+s.width),Je.set(o),e.options=i}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),mn={start:function(o){var r,e=o.interaction,t=o.interactable,n=o.element,i=o.rect,a=o.state,s=o.startOffset,c=a.options,l=c.offsetWithOrigin?function(d){var f=d.interaction.element,h=ot(P(d.state.options.origin,null,null,[f])),v=h||Re(d.interactable,f,d.interaction.prepared.name);return v}(o):{x:0,y:0};if(c.offset==="startCoords")r={x:e.coords.start.page.x,y:e.coords.start.page.y};else{var u=P(c.offset,t,n,[e]);(r=ot(u)||{x:0,y:0}).x+=l.x,r.y+=l.y}var p=c.relativePoints;a.offsets=i&&p&&p.length?p.map(function(d,f){return{index:f,relativePoint:d,x:s.left-i.width*d.x+r.x,y:s.top-i.height*d.y+r.y}}):[{index:0,relativePoint:null,x:r.x,y:r.y}]},set:function(o){var r=o.interaction,e=o.coords,t=o.state,n=t.options,i=t.offsets,a=Re(r.interactable,r.element,r.prepared.name),s=O({},e),c=[];n.offsetWithOrigin||(s.x-=a.x,s.y-=a.y);for(var l=0,u=i;l<u.length;l++)for(var p=u[l],d=s.x-p.x,f=s.y-p.y,h=0,v=n.targets.length;h<v;h++){var g=n.targets[h],m=void 0;(m=b.func(g)?g(d,f,r._proxy,p,h):g)&&c.push({x:(b.number(m.x)?m.x:d)+p.x,y:(b.number(m.y)?m.y:f)+p.y,range:b.number(m.range)?m.range:n.range,source:g,index:h,offset:p})}for(var y={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},w=0;w<c.length;w++){var _=c[w],E=_.range,k=_.x-s.x,S=_.y-s.y,T=ie(k,S),L=T<=E;E===1/0&&y.inRange&&y.range!==1/0&&(L=!1),y.target&&!(L?y.inRange&&E!==1/0?T/E<y.distance/y.range:E===1/0&&y.range!==1/0||T<y.distance:!y.inRange&&T<y.distance)||(y.target=_,y.distance=T,y.range=E,y.inRange=L,y.delta.x=k,y.delta.y=S)}return y.inRange&&(e.x=y.target.x,e.y=y.target.y),t.closest=y,y},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Ti=se(mn,"snap"),Qe={start:function(o){var r=o.state,e=o.edges,t=r.options;if(!e)return null;o.state={options:{targets:null,relativePoints:[{x:e.left?0:1,y:e.top?0:1}],offset:t.offset||"self",origin:{x:0,y:0},range:t.range}},r.targetFields=r.targetFields||[["width","height"],["x","y"]],mn.start(o),r.offsets=o.state.offsets,o.state=r},set:function(o){var r=o.interaction,e=o.state,t=o.coords,n=e.options,i=e.offsets,a={x:t.x-i[0].x,y:t.y-i[0].y};e.options=O({},n),e.options.targets=[];for(var s=0,c=n.targets||[];s<c.length;s++){var l=c[s],u=void 0;if(u=b.func(l)?l(a.x,a.y,r):l){for(var p=0,d=e.targetFields;p<d.length;p++){var f=d[p],h=f[0],v=f[1];if(h in u||v in u){u.x=u[h],u.y=u[v];break}}e.options.targets.push(u)}}var g=mn.set(o);return e.options=n,g},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Si=se(Qe,"snapSize"),Ze={aspectRatio:xi,restrictEdges:Qn,restrict:Xe,restrictRect:wi,restrictSize:ki,snapEdges:se({start:function(o){var r=o.edges;return r?(o.state.targetFields=o.state.targetFields||[[r.left?"left":"right",r.top?"top":"bottom"]],Qe.start(o)):null},set:Qe.set,defaults:O(Le(Qe.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Ti,snapSize:Si,spring:Vt,avoid:Vt,transform:Vt,rubberband:Vt},Pi={id:"modifiers",install:function(o){var r=o.interactStatic;for(var e in o.usePlugin(Ge),o.usePlugin(gi),r.modifiers=Ze,Ze){var t=Ze[e],n=t._defaults,i=t._methods;n._methods=i,o.defaults.perAction[e]=n}}},yn=Pi,Zn=function(o){R(e,o);var r=ue(e);function e(t,n,i,a,s,c){var l;if(z(this,e),we(J(l=r.call(this,s)),i),i!==n&&we(J(l),n),l.timeStamp=c,l.originalEvent=i,l.type=t,l.pointerId=_e(n),l.pointerType=It(n),l.target=a,l.currentTarget=null,t==="tap"){var u=s.getPointerIndex(n);l.dt=l.timeStamp-s.pointers[u].downTime;var p=l.timeStamp-s.tapTime;l.double=!!s.prevTap&&s.prevTap.type!=="doubletap"&&s.prevTap.target===l.target&&p<500}else t==="doubletap"&&(l.dt=n.timeStamp-s.tapTime,l.double=!0);return l}return A(e,[{key:"_subtractOrigin",value:function(t){var n=t.x,i=t.y;return this.pageX-=n,this.pageY-=i,this.clientX-=n,this.clientY-=i,this}},{key:"_addOrigin",value:function(t){var n=t.x,i=t.y;return this.pageX+=n,this.pageY+=i,this.clientX+=n,this.clientY+=i,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),e}(dt),Et={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(o){o.pointerEvents=Et,o.defaults.actions.pointerEvents=Et.defaults,O(o.actions.phaselessTypes,Et.types)},listeners:{"interactions:new":function(o){var r=o.interaction;r.prevTap=null,r.tapTime=0},"interactions:update-pointer":function(o){var r=o.down,e=o.pointerInfo;!r&&e.hold||(e.hold={duration:1/0,timeout:null})},"interactions:move":function(o,r){var e=o.interaction,t=o.pointer,n=o.event,i=o.eventTarget;o.duplicate||e.pointerIsDown&&!e.pointerWasMoved||(e.pointerIsDown&&ce(o),be({interaction:e,pointer:t,event:n,eventTarget:i,type:"move"},r))},"interactions:down":function(o,r){(function(e,t){for(var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget,c=e.pointerIndex,l=n.pointers[c].hold,u=Pt(s),p={interaction:n,pointer:i,event:a,eventTarget:s,type:"hold",targets:[],path:u,node:null},d=0;d<u.length;d++){var f=u[d];p.node=f,t.fire("pointerEvents:collect-targets",p)}if(p.targets.length){for(var h=1/0,v=0,g=p.targets;v<g.length;v++){var m=g[v].eventable.options.holdDuration;m<h&&(h=m)}l.duration=h,l.timeout=setTimeout(function(){be({interaction:n,eventTarget:s,pointer:i,event:a,type:"hold"},t)},h)}})(o,r),be(o,r)},"interactions:up":function(o,r){ce(o),be(o,r),function(e,t){var n=e.interaction,i=e.pointer,a=e.event,s=e.eventTarget;n.pointerWasMoved||be({interaction:n,eventTarget:s,pointer:i,event:a,type:"tap"},t)}(o,r)},"interactions:cancel":function(o,r){ce(o),be(o,r)}},PointerEvent:Zn,fire:be,collectEventTargets:et,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function be(o,r){var e=o.interaction,t=o.pointer,n=o.event,i=o.eventTarget,a=o.type,s=o.targets,c=s===void 0?et(o,r):s,l=new Zn(a,t,n,i,e,r.now());r.fire("pointerEvents:new",{pointerEvent:l});for(var u={interaction:e,pointer:t,event:n,eventTarget:i,targets:c,type:a,pointerEvent:l},p=0;p<c.length;p++){var d=c[p];for(var f in d.props||{})l[f]=d.props[f];var h=Re(d.eventable,d.node);if(l._subtractOrigin(h),l.eventable=d.eventable,l.currentTarget=d.node,d.eventable.fire(l),l._addOrigin(h),l.immediatePropagationStopped||l.propagationStopped&&p+1<c.length&&c[p+1].node!==l.currentTarget)break}if(r.fire("pointerEvents:fired",u),a==="tap"){var v=l.double?be({interaction:e,pointer:t,event:n,eventTarget:i,type:"doubletap"},r):l;e.prevTap=v,e.tapTime=v.timeStamp}return l}function et(o,r){var e=o.interaction,t=o.pointer,n=o.event,i=o.eventTarget,a=o.type,s=e.getPointerIndex(t),c=e.pointers[s];if(a==="tap"&&(e.pointerWasMoved||!c||c.downTarget!==i))return[];for(var l=Pt(i),u={interaction:e,pointer:t,event:n,eventTarget:i,type:a,path:l,targets:[],node:null},p=0;p<l.length;p++){var d=l[p];u.node=d,r.fire("pointerEvents:collect-targets",u)}return a==="hold"&&(u.targets=u.targets.filter(function(f){var h,v;return f.eventable.options.holdDuration===((h=e.pointers[s])==null||(v=h.hold)==null?void 0:v.duration)})),u.targets}function ce(o){var r=o.interaction,e=o.pointerIndex,t=r.pointers[e].hold;t&&t.timeout&&(clearTimeout(t.timeout),t.timeout=null)}var ei=Object.freeze({__proto__:null,default:Et});function bn(o){var r=o.interaction;r.holdIntervalHandle&&(clearInterval(r.holdIntervalHandle),r.holdIntervalHandle=null)}var Oi={id:"pointer-events/holdRepeat",install:function(o){o.usePlugin(Et);var r=o.pointerEvents;r.defaults.holdRepeatInterval=0,r.types.holdrepeat=o.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(o,r){return o["pointerEvents:".concat(r)]=bn,o},{"pointerEvents:new":function(o){var r=o.pointerEvent;r.type==="hold"&&(r.count=(r.count||0)+1)},"pointerEvents:fired":function(o,r){var e=o.interaction,t=o.pointerEvent,n=o.eventTarget,i=o.targets;if(t.type==="hold"&&i.length){var a=i[0].eventable.options.holdRepeatInterval;a<=0||(e.holdIntervalHandle=setTimeout(function(){r.pointerEvents.fire({interaction:e,eventTarget:n,type:"hold",pointer:t,event:t},r)},a))}}})},Mi=Oi,Di={id:"pointer-events/interactableTargets",install:function(o){var r=o.Interactable;r.prototype.pointerEvents=function(t){return O(this.events.options,t),this};var e=r.prototype._backCompatOption;r.prototype._backCompatOption=function(t,n){var i=e.call(this,t,n);return i===this&&(this.events.options[t]=n),i}},listeners:{"pointerEvents:collect-targets":function(o,r){var e=o.targets,t=o.node,n=o.type,i=o.eventTarget;r.interactables.forEachMatch(t,function(a){var s=a.events,c=s.options;s.types[n]&&s.types[n].length&&a.testIgnoreAllow(c,t,i)&&e.push({node:t,eventable:s,props:{interactable:a}})})},"interactable:new":function(o){var r=o.interactable;r.events.getRect=function(e){return r.getRect(e)}},"interactable:set":function(o,r){var e=o.interactable,t=o.options;O(e.events.options,r.pointerEvents.defaults),O(e.events.options,t.pointerEvents||{})}}},Ii=Di,zi={id:"pointer-events",install:function(o){o.usePlugin(ei),o.usePlugin(Mi),o.usePlugin(Ii)}},Ai=zi,Ci={id:"reflow",install:function(o){var r=o.Interactable;o.actions.phases.reflow=!0,r.prototype.reflow=function(e){return function(t,n,i){for(var a=t.getAllElements(),s=i.window.Promise,c=s?[]:null,l=function(){var p=a[u],d=t.getRect(p);if(!d)return 1;var f,h=$e(i.interactions.list,function(m){return m.interacting()&&m.interactable===t&&m.element===p&&m.prepared.name===n.name});if(h)h.move(),c&&(f=h._reflowPromise||new s(function(m){h._reflowResolve=m}));else{var v=Ae(d),g=function(m){return{coords:m,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:v.x,y:v.y},client:{x:v.x,y:v.y},timeStamp:i.now()});f=function(m,y,w,_,E){var k=m.interactions.new({pointerType:"reflow"}),S={interaction:k,event:E,pointer:E,eventTarget:w,phase:"reflow"};k.interactable=y,k.element=w,k.prevEvent=E,k.updatePointer(E,E,w,!0),at(k.coords.delta),on(k.prepared,_),k._doPhase(S);var T=m.window,L=T.Promise,C=L?new L(function(B){k._reflowResolve=B}):void 0;return k._reflowPromise=C,k.start(_,y,w),k._interacting?(k.move(S),k.end(E)):(k.stop(),k._reflowResolve()),k.removePointer(E,E),C}(i,t,p,n,g)}c&&c.push(f)},u=0;u<a.length&&!l();u++);return c&&s.all(c).then(function(){return t})}(this,e,o)}},listeners:{"interactions:stop":function(o,r){var e=o.interaction;e.pointerType==="reflow"&&(e._reflowResolve&&e._reflowResolve(),function(t,n){t.splice(t.indexOf(n),1)}(r.interactions.list,e))}}},Ri=Ci;if(V.use(zn),V.use(Yt),V.use(Ai),V.use(Yn),V.use(yn),V.use(ai),V.use(ge),V.use(Mn),V.use(Ri),V.default=V,(typeof kt>"u"?"undefined":j(kt))==="object"&&kt)try{kt.exports=V}catch{}return V.default=V,V})});export default cr();
